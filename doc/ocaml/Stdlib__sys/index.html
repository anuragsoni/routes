<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Stdlib__sys (ocaml.Stdlib__sys)</title><link rel="stylesheet" href="../../_odoc-theme/odoc.css"/><meta charset="utf-8"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body><div class="content"><header><nav><a href="../index.html">Up</a> â€“ <a href="../index.html">ocaml</a> &#x00BB; Stdlib__sys</nav><h1>Module <code>Stdlib__sys</code></h1><p>System interface.</p><p>Every function in this module raises <code>Sys_error</code> with an informative message when the underlying system call signal an error.</p><nav class="toc"><ul><li><a href="#signal-handling">Signal handling</a><ul><li><a href="#signal-numbers-for-the-standard-posix-signals.">Signal numbers for the standard POSIX signals.</a></li></ul></li><li><a href="#optimization">Optimization</a></li></ul></nav></header><dl><dt class="spec value" id="val-argv"><a href="#val-argv" class="anchor"></a><code><span class="keyword">val</span> argv : <span>string array</span></code></dt><dd><p>The command line arguments given to the process. The first element is the command name used to invoke the program. The following elements are the command-line arguments given to the program.</p></dd></dl><dl><dt class="spec value" id="val-executable_name"><a href="#val-executable_name" class="anchor"></a><code><span class="keyword">val</span> executable_name : string</code></dt><dd><p>The name of the file containing the executable currently running. This name may be absolute or relative to the current directory, depending on the platform and whether the program was compiled to bytecode or a native executable.</p></dd></dl><dl><dt class="spec external" id="val-file_exists"><a href="#val-file_exists" class="anchor"></a><code><span class="keyword">val</span> file_exists : string <span>&#45;&gt;</span> bool</code></dt><dd><p>Test if a file with the given name exists.</p></dd></dl><dl><dt class="spec external" id="val-is_directory"><a href="#val-is_directory" class="anchor"></a><code><span class="keyword">val</span> is_directory : string <span>&#45;&gt;</span> bool</code></dt><dd><p>Returns <code>true</code> if the given name refers to a directory, <code>false</code> if it refers to another kind of file. Raise <code>Sys_error</code> if no file exists with the given name.</p><dl><dt>since</dt><dd>3.10.0</dd></dl></dd></dl><dl><dt class="spec external" id="val-remove"><a href="#val-remove" class="anchor"></a><code><span class="keyword">val</span> remove : string <span>&#45;&gt;</span> unit</code></dt><dd><p>Remove the given file name from the file system.</p></dd></dl><dl><dt class="spec external" id="val-rename"><a href="#val-rename" class="anchor"></a><code><span class="keyword">val</span> rename : string <span>&#45;&gt;</span> string <span>&#45;&gt;</span> unit</code></dt><dd><p>Rename a file. <code>rename oldpath newpath</code> renames the file called <code>oldpath</code>, giving it <code>newpath</code> as its new name, moving it between directories if needed. If <code>newpath</code> already exists, its contents will be replaced with those of <code>oldpath</code>. Depending on the operating system, the metadata (permissions, owner, etc) of <code>newpath</code> can either be preserved or be replaced by those of <code>oldpath</code>.</p><dl><dt>since</dt><dd>4.06 concerning the &quot;replace existing file&quot; behavior</dd></dl></dd></dl><dl><dt class="spec external" id="val-getenv"><a href="#val-getenv" class="anchor"></a><code><span class="keyword">val</span> getenv : string <span>&#45;&gt;</span> string</code></dt><dd><p>Return the value associated to a variable in the process environment. Raise <code>Not_found</code> if the variable is unbound.</p></dd></dl><dl><dt class="spec value" id="val-getenv_opt"><a href="#val-getenv_opt" class="anchor"></a><code><span class="keyword">val</span> getenv_opt : string <span>&#45;&gt;</span> <span>string option</span></code></dt><dd><p>Return the value associated to a variable in the process environment or <code>None</code> if the variable is unbound.</p><dl><dt>since</dt><dd>4.05</dd></dl></dd></dl><dl><dt class="spec external" id="val-command"><a href="#val-command" class="anchor"></a><code><span class="keyword">val</span> command : string <span>&#45;&gt;</span> int</code></dt><dd><p>Execute the given shell command and return its exit code.</p></dd></dl><dl><dt class="spec external" id="val-time"><a href="#val-time" class="anchor"></a><code><span class="keyword">val</span> time : unit <span>&#45;&gt;</span> float</code></dt><dd><p>Return the processor time, in seconds, used by the program since the beginning of execution.</p></dd></dl><dl><dt class="spec external" id="val-chdir"><a href="#val-chdir" class="anchor"></a><code><span class="keyword">val</span> chdir : string <span>&#45;&gt;</span> unit</code></dt><dd><p>Change the current working directory of the process.</p></dd></dl><dl><dt class="spec external" id="val-getcwd"><a href="#val-getcwd" class="anchor"></a><code><span class="keyword">val</span> getcwd : unit <span>&#45;&gt;</span> string</code></dt><dd><p>Return the current working directory of the process.</p></dd></dl><dl><dt class="spec external" id="val-readdir"><a href="#val-readdir" class="anchor"></a><code><span class="keyword">val</span> readdir : string <span>&#45;&gt;</span> <span>string array</span></code></dt><dd><p>Return the names of all files present in the given directory. Names denoting the current directory and the parent directory (<code>&quot;.&quot;</code> and <code>&quot;..&quot;</code> in Unix) are not returned. Each string in the result is a file name rather than a complete path. There is no guarantee that the name strings in the resulting array will appear in any specific order; they are not, in particular, guaranteed to appear in alphabetical order.</p></dd></dl><dl><dt class="spec value" id="val-interactive"><a href="#val-interactive" class="anchor"></a><code><span class="keyword">val</span> interactive : <span>bool <a href="../Stdlib/index.html#type-ref">Stdlib.ref</a></span></code></dt><dd><p>This reference is initially set to <code>false</code> in standalone programs and to <code>true</code> if the code is being executed under the interactive toplevel system <code>ocaml</code>.</p></dd></dl><dl><dt class="spec value" id="val-os_type"><a href="#val-os_type" class="anchor"></a><code><span class="keyword">val</span> os_type : string</code></dt><dd><p>Operating system currently executing the OCaml program. One of</p><ul><li><code>&quot;Unix&quot;</code> (for all Unix versions, including Linux and Mac OS X),</li><li><code>&quot;Win32&quot;</code> (for MS-Windows, OCaml compiled with MSVC++ or Mingw),</li><li><code>&quot;Cygwin&quot;</code> (for MS-Windows, OCaml compiled with Cygwin).</li></ul></dd></dl><dl><dt class="spec type" id="type-backend_type"><a href="#type-backend_type" class="anchor"></a><code><span class="keyword">type</span> backend_type</code><code> = </code><table class="variant"><tr id="type-backend_type.Native" class="anchored"><td class="def constructor"><a href="#type-backend_type.Native" class="anchor"></a><code>| </code><code><span class="constructor">Native</span></code></td></tr><tr id="type-backend_type.Bytecode" class="anchored"><td class="def constructor"><a href="#type-backend_type.Bytecode" class="anchor"></a><code>| </code><code><span class="constructor">Bytecode</span></code></td></tr><tr id="type-backend_type.Other" class="anchored"><td class="def constructor"><a href="#type-backend_type.Other" class="anchor"></a><code>| </code><code><span class="constructor">Other</span> <span class="keyword">of</span> string</code></td></tr></table></dt><dd><p>Currently, the official distribution only supports <code>Native</code> and <code>Bytecode</code>, but it can be other backends with alternative compilers, for example, javascript.</p><dl><dt>since</dt><dd>4.04.0</dd></dl></dd></dl><dl><dt class="spec value" id="val-backend_type"><a href="#val-backend_type" class="anchor"></a><code><span class="keyword">val</span> backend_type : <a href="index.html#type-backend_type">backend_type</a></code></dt><dd><p>Backend type currently executing the OCaml program.</p><dl><dt>since</dt><dd>4.04.0</dd></dl></dd></dl><dl><dt class="spec value" id="val-unix"><a href="#val-unix" class="anchor"></a><code><span class="keyword">val</span> unix : bool</code></dt><dd><p>True if <code>Sys.os_type = &quot;Unix&quot;</code>.</p><dl><dt>since</dt><dd>4.01.0</dd></dl></dd></dl><dl><dt class="spec value" id="val-win32"><a href="#val-win32" class="anchor"></a><code><span class="keyword">val</span> win32 : bool</code></dt><dd><p>True if <code>Sys.os_type = &quot;Win32&quot;</code>.</p><dl><dt>since</dt><dd>4.01.0</dd></dl></dd></dl><dl><dt class="spec value" id="val-cygwin"><a href="#val-cygwin" class="anchor"></a><code><span class="keyword">val</span> cygwin : bool</code></dt><dd><p>True if <code>Sys.os_type = &quot;Cygwin&quot;</code>.</p><dl><dt>since</dt><dd>4.01.0</dd></dl></dd></dl><dl><dt class="spec value" id="val-word_size"><a href="#val-word_size" class="anchor"></a><code><span class="keyword">val</span> word_size : int</code></dt><dd><p>Size of one word on the machine currently executing the OCaml program, in bits: 32 or 64.</p></dd></dl><dl><dt class="spec value" id="val-int_size"><a href="#val-int_size" class="anchor"></a><code><span class="keyword">val</span> int_size : int</code></dt><dd><p>Size of <code>int</code>, in bits. It is 31 (resp. 63) when using OCaml on a 32-bit (resp. 64-bit) platform. It may differ for other implementations, e.g. it can be 32 bits when compiling to JavaScript.</p><dl><dt>since</dt><dd>4.03.0</dd></dl></dd></dl><dl><dt class="spec value" id="val-big_endian"><a href="#val-big_endian" class="anchor"></a><code><span class="keyword">val</span> big_endian : bool</code></dt><dd><p>Whether the machine currently executing the Caml program is big-endian.</p><dl><dt>since</dt><dd>4.00.0</dd></dl></dd></dl><dl><dt class="spec value" id="val-max_string_length"><a href="#val-max_string_length" class="anchor"></a><code><span class="keyword">val</span> max_string_length : int</code></dt><dd><p>Maximum length of strings and byte sequences.</p></dd></dl><dl><dt class="spec value" id="val-max_array_length"><a href="#val-max_array_length" class="anchor"></a><code><span class="keyword">val</span> max_array_length : int</code></dt><dd><p>Maximum length of a normal array (i.e. any array whose elements are not of type <code>float</code>). The maximum length of a <code>float array</code> is <code>max_floatarray_length</code> if OCaml was configured with <code>--enable-flat-float-array</code> and <code>max_array_length</code> if configured with <code>--disable-flat-float-array</code>.</p></dd></dl><dl><dt class="spec value" id="val-max_floatarray_length"><a href="#val-max_floatarray_length" class="anchor"></a><code><span class="keyword">val</span> max_floatarray_length : int</code></dt><dd><p>Maximum length of a floatarray. This is also the maximum length of a <code>float array</code> when OCaml is configured with <code>--enable-flat-float-array</code>.</p></dd></dl><dl><dt class="spec external" id="val-runtime_variant"><a href="#val-runtime_variant" class="anchor"></a><code><span class="keyword">val</span> runtime_variant : unit <span>&#45;&gt;</span> string</code></dt><dd><p>Return the name of the runtime variant the program is running on. This is normally the argument given to <code>-runtime-variant</code> at compile time, but for byte-code it can be changed after compilation.</p><dl><dt>since</dt><dd>4.03.0</dd></dl></dd></dl><dl><dt class="spec external" id="val-runtime_parameters"><a href="#val-runtime_parameters" class="anchor"></a><code><span class="keyword">val</span> runtime_parameters : unit <span>&#45;&gt;</span> string</code></dt><dd><p>Return the value of the runtime parameters, in the same format as the contents of the <code>OCAMLRUNPARAM</code> environment variable.</p><dl><dt>since</dt><dd>4.03.0</dd></dl></dd></dl><section><header><h2 id="signal-handling"><a href="#signal-handling" class="anchor"></a>Signal handling</h2></header><dl><dt class="spec type" id="type-signal_behavior"><a href="#type-signal_behavior" class="anchor"></a><code><span class="keyword">type</span> signal_behavior</code><code> = </code><table class="variant"><tr id="type-signal_behavior.Signal_default" class="anchored"><td class="def constructor"><a href="#type-signal_behavior.Signal_default" class="anchor"></a><code>| </code><code><span class="constructor">Signal_default</span></code></td></tr><tr id="type-signal_behavior.Signal_ignore" class="anchored"><td class="def constructor"><a href="#type-signal_behavior.Signal_ignore" class="anchor"></a><code>| </code><code><span class="constructor">Signal_ignore</span></code></td></tr><tr id="type-signal_behavior.Signal_handle" class="anchored"><td class="def constructor"><a href="#type-signal_behavior.Signal_handle" class="anchor"></a><code>| </code><code><span class="constructor">Signal_handle</span> <span class="keyword">of</span> int <span>&#45;&gt;</span> unit</code></td></tr></table></dt><dd><p>What to do when receiving a signal:</p><ul><li><code>Signal_default</code>: take the default behavior (usually: abort the program)</li><li><code>Signal_ignore</code>: ignore the signal</li><li><code>Signal_handle f</code>: call function <code>f</code>, giving it the signal number as argument.</li></ul></dd></dl><dl><dt class="spec external" id="val-signal"><a href="#val-signal" class="anchor"></a><code><span class="keyword">val</span> signal : int <span>&#45;&gt;</span> <a href="index.html#type-signal_behavior">signal_behavior</a> <span>&#45;&gt;</span> <a href="index.html#type-signal_behavior">signal_behavior</a></code></dt><dd><p>Set the behavior of the system on receipt of a given signal. The first argument is the signal number. Return the behavior previously associated with the signal. If the signal number is invalid (or not available on your system), an <code>Invalid_argument</code> exception is raised.</p></dd></dl><dl><dt class="spec value" id="val-set_signal"><a href="#val-set_signal" class="anchor"></a><code><span class="keyword">val</span> set_signal : int <span>&#45;&gt;</span> <a href="index.html#type-signal_behavior">signal_behavior</a> <span>&#45;&gt;</span> unit</code></dt><dd><p>Same as <span class="xref-unresolved" title="unresolved reference to &quot;Sys.signal&quot;"><code>Sys</code>.signal</span> but return value is ignored.</p></dd></dl><section><header><h3 id="signal-numbers-for-the-standard-posix-signals."><a href="#signal-numbers-for-the-standard-posix-signals." class="anchor"></a>Signal numbers for the standard POSIX signals.</h3></header><dl><dt class="spec value" id="val-sigabrt"><a href="#val-sigabrt" class="anchor"></a><code><span class="keyword">val</span> sigabrt : int</code></dt><dd><p>Abnormal termination</p></dd></dl><dl><dt class="spec value" id="val-sigalrm"><a href="#val-sigalrm" class="anchor"></a><code><span class="keyword">val</span> sigalrm : int</code></dt><dd><p>Timeout</p></dd></dl><dl><dt class="spec value" id="val-sigfpe"><a href="#val-sigfpe" class="anchor"></a><code><span class="keyword">val</span> sigfpe : int</code></dt><dd><p>Arithmetic exception</p></dd></dl><dl><dt class="spec value" id="val-sighup"><a href="#val-sighup" class="anchor"></a><code><span class="keyword">val</span> sighup : int</code></dt><dd><p>Hangup on controlling terminal</p></dd></dl><dl><dt class="spec value" id="val-sigill"><a href="#val-sigill" class="anchor"></a><code><span class="keyword">val</span> sigill : int</code></dt><dd><p>Invalid hardware instruction</p></dd></dl><dl><dt class="spec value" id="val-sigint"><a href="#val-sigint" class="anchor"></a><code><span class="keyword">val</span> sigint : int</code></dt><dd><p>Interactive interrupt (ctrl-C)</p></dd></dl><dl><dt class="spec value" id="val-sigkill"><a href="#val-sigkill" class="anchor"></a><code><span class="keyword">val</span> sigkill : int</code></dt><dd><p>Termination (cannot be ignored)</p></dd></dl><dl><dt class="spec value" id="val-sigpipe"><a href="#val-sigpipe" class="anchor"></a><code><span class="keyword">val</span> sigpipe : int</code></dt><dd><p>Broken pipe</p></dd></dl><dl><dt class="spec value" id="val-sigquit"><a href="#val-sigquit" class="anchor"></a><code><span class="keyword">val</span> sigquit : int</code></dt><dd><p>Interactive termination</p></dd></dl><dl><dt class="spec value" id="val-sigsegv"><a href="#val-sigsegv" class="anchor"></a><code><span class="keyword">val</span> sigsegv : int</code></dt><dd><p>Invalid memory reference</p></dd></dl><dl><dt class="spec value" id="val-sigterm"><a href="#val-sigterm" class="anchor"></a><code><span class="keyword">val</span> sigterm : int</code></dt><dd><p>Termination</p></dd></dl><dl><dt class="spec value" id="val-sigusr1"><a href="#val-sigusr1" class="anchor"></a><code><span class="keyword">val</span> sigusr1 : int</code></dt><dd><p>Application-defined signal 1</p></dd></dl><dl><dt class="spec value" id="val-sigusr2"><a href="#val-sigusr2" class="anchor"></a><code><span class="keyword">val</span> sigusr2 : int</code></dt><dd><p>Application-defined signal 2</p></dd></dl><dl><dt class="spec value" id="val-sigchld"><a href="#val-sigchld" class="anchor"></a><code><span class="keyword">val</span> sigchld : int</code></dt><dd><p>Child process terminated</p></dd></dl><dl><dt class="spec value" id="val-sigcont"><a href="#val-sigcont" class="anchor"></a><code><span class="keyword">val</span> sigcont : int</code></dt><dd><p>Continue</p></dd></dl><dl><dt class="spec value" id="val-sigstop"><a href="#val-sigstop" class="anchor"></a><code><span class="keyword">val</span> sigstop : int</code></dt><dd><p>Stop</p></dd></dl><dl><dt class="spec value" id="val-sigtstp"><a href="#val-sigtstp" class="anchor"></a><code><span class="keyword">val</span> sigtstp : int</code></dt><dd><p>Interactive stop</p></dd></dl><dl><dt class="spec value" id="val-sigttin"><a href="#val-sigttin" class="anchor"></a><code><span class="keyword">val</span> sigttin : int</code></dt><dd><p>Terminal read from background process</p></dd></dl><dl><dt class="spec value" id="val-sigttou"><a href="#val-sigttou" class="anchor"></a><code><span class="keyword">val</span> sigttou : int</code></dt><dd><p>Terminal write from background process</p></dd></dl><dl><dt class="spec value" id="val-sigvtalrm"><a href="#val-sigvtalrm" class="anchor"></a><code><span class="keyword">val</span> sigvtalrm : int</code></dt><dd><p>Timeout in virtual time</p></dd></dl><dl><dt class="spec value" id="val-sigprof"><a href="#val-sigprof" class="anchor"></a><code><span class="keyword">val</span> sigprof : int</code></dt><dd><p>Profiling interrupt</p></dd></dl><dl><dt class="spec value" id="val-sigbus"><a href="#val-sigbus" class="anchor"></a><code><span class="keyword">val</span> sigbus : int</code></dt><dd><p>Bus error</p><dl><dt>since</dt><dd>4.03</dd></dl></dd></dl><dl><dt class="spec value" id="val-sigpoll"><a href="#val-sigpoll" class="anchor"></a><code><span class="keyword">val</span> sigpoll : int</code></dt><dd><p>Pollable event</p><dl><dt>since</dt><dd>4.03</dd></dl></dd></dl><dl><dt class="spec value" id="val-sigsys"><a href="#val-sigsys" class="anchor"></a><code><span class="keyword">val</span> sigsys : int</code></dt><dd><p>Bad argument to routine</p><dl><dt>since</dt><dd>4.03</dd></dl></dd></dl><dl><dt class="spec value" id="val-sigtrap"><a href="#val-sigtrap" class="anchor"></a><code><span class="keyword">val</span> sigtrap : int</code></dt><dd><p>Trace/breakpoint trap</p><dl><dt>since</dt><dd>4.03</dd></dl></dd></dl><dl><dt class="spec value" id="val-sigurg"><a href="#val-sigurg" class="anchor"></a><code><span class="keyword">val</span> sigurg : int</code></dt><dd><p>Urgent condition on socket</p><dl><dt>since</dt><dd>4.03</dd></dl></dd></dl><dl><dt class="spec value" id="val-sigxcpu"><a href="#val-sigxcpu" class="anchor"></a><code><span class="keyword">val</span> sigxcpu : int</code></dt><dd><p>Timeout in cpu time</p><dl><dt>since</dt><dd>4.03</dd></dl></dd></dl><dl><dt class="spec value" id="val-sigxfsz"><a href="#val-sigxfsz" class="anchor"></a><code><span class="keyword">val</span> sigxfsz : int</code></dt><dd><p>File size limit exceeded</p><dl><dt>since</dt><dd>4.03</dd></dl></dd></dl><dl><dt class="spec exception" id="exception-Break"><a href="#exception-Break" class="anchor"></a><code><span class="keyword">exception</span> </code><code><span class="exception">Break</span></code></dt><dd><p>Exception raised on interactive interrupt if <span class="xref-unresolved" title="unresolved reference to &quot;Sys.catch_break&quot;"><code>Sys</code>.catch_break</span> is on.</p></dd></dl><dl><dt class="spec value" id="val-catch_break"><a href="#val-catch_break" class="anchor"></a><code><span class="keyword">val</span> catch_break : bool <span>&#45;&gt;</span> unit</code></dt><dd><p><code>catch_break</code> governs whether interactive interrupt (ctrl-C) terminates the program or raises the <code>Break</code> exception. Call <code>catch_break true</code> to enable raising <code>Break</code>, and <code>catch_break false</code> to let the system terminate the program on user interrupt.</p></dd></dl><dl><dt class="spec value" id="val-ocaml_version"><a href="#val-ocaml_version" class="anchor"></a><code><span class="keyword">val</span> ocaml_version : string</code></dt><dd><p><code>ocaml_version</code> is the version of OCaml. It is a string of the form <code>&quot;major.minor[.patchlevel][+additional-info]&quot;</code>, where <code>major</code>, <code>minor</code>, and <code>patchlevel</code> are integers, and <code>additional-info</code> is an arbitrary string. The <code>[.patchlevel]</code> and <code>[+additional-info]</code> parts may be absent.</p></dd></dl><dl><dt class="spec value" id="val-enable_runtime_warnings"><a href="#val-enable_runtime_warnings" class="anchor"></a><code><span class="keyword">val</span> enable_runtime_warnings : bool <span>&#45;&gt;</span> unit</code></dt><dd><p>Control whether the OCaml runtime system can emit warnings on stderr. Currently, the only supported warning is triggered when a channel created by <code>open_*</code> functions is finalized without being closed. Runtime warnings are enabled by default.</p><dl><dt>since</dt><dd>4.03.0</dd></dl></dd></dl><dl><dt class="spec value" id="val-runtime_warnings_enabled"><a href="#val-runtime_warnings_enabled" class="anchor"></a><code><span class="keyword">val</span> runtime_warnings_enabled : unit <span>&#45;&gt;</span> bool</code></dt><dd><p>Return whether runtime warnings are currently enabled.</p><dl><dt>since</dt><dd>4.03.0</dd></dl></dd></dl></section></section><section><header><h2 id="optimization"><a href="#optimization" class="anchor"></a>Optimization</h2></header><dl><dt class="spec external" id="val-opaque_identity"><a href="#val-opaque_identity" class="anchor"></a><code><span class="keyword">val</span> opaque_identity : <span class="type-var">'a</span> <span>&#45;&gt;</span> <span class="type-var">'a</span></code></dt><dd><p>For the purposes of optimization, <code>opaque_identity</code> behaves like an unknown (and thus possibly side-effecting) function.</p><p>At runtime, <code>opaque_identity</code> disappears altogether.</p><p>A typical use of this function is to prevent pure computations from being optimized away in benchmarking loops. For example:</p><pre><code class="ml">for _round = 1 to 100_000 do
  ignore (Sys.opaque_identity (my_pure_computation ()))
done</code></pre><dl><dt>since</dt><dd>4.03.0</dd></dl></dd></dl></section></div></body></html>