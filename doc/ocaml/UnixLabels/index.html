<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>UnixLabels (ocaml.UnixLabels)</title><link rel="stylesheet" href="../../_odoc-theme/odoc.css"/><meta charset="utf-8"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body><div class="content"><header><nav><a href="../index.html">Up</a> â€“ <a href="../index.html">ocaml</a> &#x00BB; UnixLabels</nav><h1>Module <code>UnixLabels</code></h1><p>Interface to the Unix system. To use as replacement to default <a href="../Unix/index.html"><code>Unix</code></a> module, add <code>module Unix = UnixLabels</code> in your implementation.</p><nav class="toc"><ul><li><a href="#error-report">Error report</a></li><li><a href="#access-to-the-process-environment">Access to the process environment</a></li><li><a href="#process-handling">Process handling</a></li><li><a href="#basic-file-input/output">Basic file input/output</a></li><li><a href="#interfacing-with-the-standard-input/output-library">Interfacing with the standard input/output library</a></li><li><a href="#seeking-and-truncating">Seeking and truncating</a></li><li><a href="#file-status">File status</a></li><li><a href="#file-operations-on-large-files">File operations on large files</a></li><li><a href="#mapping-files-into-memory">Mapping files into memory</a></li><li><a href="#operations-on-file-names">Operations on file names</a></li><li><a href="#file-permissions-and-ownership">File permissions and ownership</a></li><li><a href="#operations-on-file-descriptors">Operations on file descriptors</a></li><li><a href="#directories">Directories</a></li><li><a href="#pipes-and-redirections">Pipes and redirections</a></li><li><a href="#high-level-process-and-redirection-management">High-level process and redirection management</a></li><li><a href="#symbolic-links">Symbolic links</a></li><li><a href="#polling">Polling</a></li><li><a href="#locking">Locking</a></li><li><a href="#signals">Signals</a></li><li><a href="#time-functions">Time functions</a></li><li><a href="#user-id,-group-id">User id, group id</a></li><li><a href="#internet-addresses">Internet addresses</a></li><li><a href="#sockets">Sockets</a></li><li><a href="#socket-options">Socket options</a></li><li><a href="#high-level-network-connection-functions">High-level network connection functions</a></li><li><a href="#host-and-protocol-databases">Host and protocol databases</a></li><li><a href="#terminal-interface">Terminal interface</a></li></ul></nav></header><section><header><h2 id="error-report"><a href="#error-report" class="anchor"></a>Error report</h2></header><dl><dt class="spec type" id="type-error"><a href="#type-error" class="anchor"></a><code><span class="keyword">type</span> error</code><code> = <a href="../Unix/index.html#type-error">Unix.error</a></code><code> = </code><table class="variant"><tr id="type-error.E2BIG" class="anchored"><td class="def constructor"><a href="#type-error.E2BIG" class="anchor"></a><code>| </code><code><span class="constructor">E2BIG</span></code></td><td class="doc"><p>Argument list too long</p></td></tr><tr id="type-error.EACCES" class="anchored"><td class="def constructor"><a href="#type-error.EACCES" class="anchor"></a><code>| </code><code><span class="constructor">EACCES</span></code></td><td class="doc"><p>Permission denied</p></td></tr><tr id="type-error.EAGAIN" class="anchored"><td class="def constructor"><a href="#type-error.EAGAIN" class="anchor"></a><code>| </code><code><span class="constructor">EAGAIN</span></code></td><td class="doc"><p>Resource temporarily unavailable; try again</p></td></tr><tr id="type-error.EBADF" class="anchored"><td class="def constructor"><a href="#type-error.EBADF" class="anchor"></a><code>| </code><code><span class="constructor">EBADF</span></code></td><td class="doc"><p>Bad file descriptor</p></td></tr><tr id="type-error.EBUSY" class="anchored"><td class="def constructor"><a href="#type-error.EBUSY" class="anchor"></a><code>| </code><code><span class="constructor">EBUSY</span></code></td><td class="doc"><p>Resource unavailable</p></td></tr><tr id="type-error.ECHILD" class="anchored"><td class="def constructor"><a href="#type-error.ECHILD" class="anchor"></a><code>| </code><code><span class="constructor">ECHILD</span></code></td><td class="doc"><p>No child process</p></td></tr><tr id="type-error.EDEADLK" class="anchored"><td class="def constructor"><a href="#type-error.EDEADLK" class="anchor"></a><code>| </code><code><span class="constructor">EDEADLK</span></code></td><td class="doc"><p>Resource deadlock would occur</p></td></tr><tr id="type-error.EDOM" class="anchored"><td class="def constructor"><a href="#type-error.EDOM" class="anchor"></a><code>| </code><code><span class="constructor">EDOM</span></code></td><td class="doc"><p>Domain error for math functions, etc.</p></td></tr><tr id="type-error.EEXIST" class="anchored"><td class="def constructor"><a href="#type-error.EEXIST" class="anchor"></a><code>| </code><code><span class="constructor">EEXIST</span></code></td><td class="doc"><p>File exists</p></td></tr><tr id="type-error.EFAULT" class="anchored"><td class="def constructor"><a href="#type-error.EFAULT" class="anchor"></a><code>| </code><code><span class="constructor">EFAULT</span></code></td><td class="doc"><p>Bad address</p></td></tr><tr id="type-error.EFBIG" class="anchored"><td class="def constructor"><a href="#type-error.EFBIG" class="anchor"></a><code>| </code><code><span class="constructor">EFBIG</span></code></td><td class="doc"><p>File too large</p></td></tr><tr id="type-error.EINTR" class="anchored"><td class="def constructor"><a href="#type-error.EINTR" class="anchor"></a><code>| </code><code><span class="constructor">EINTR</span></code></td><td class="doc"><p>Function interrupted by signal</p></td></tr><tr id="type-error.EINVAL" class="anchored"><td class="def constructor"><a href="#type-error.EINVAL" class="anchor"></a><code>| </code><code><span class="constructor">EINVAL</span></code></td><td class="doc"><p>Invalid argument</p></td></tr><tr id="type-error.EIO" class="anchored"><td class="def constructor"><a href="#type-error.EIO" class="anchor"></a><code>| </code><code><span class="constructor">EIO</span></code></td><td class="doc"><p>Hardware I/O error</p></td></tr><tr id="type-error.EISDIR" class="anchored"><td class="def constructor"><a href="#type-error.EISDIR" class="anchor"></a><code>| </code><code><span class="constructor">EISDIR</span></code></td><td class="doc"><p>Is a directory</p></td></tr><tr id="type-error.EMFILE" class="anchored"><td class="def constructor"><a href="#type-error.EMFILE" class="anchor"></a><code>| </code><code><span class="constructor">EMFILE</span></code></td><td class="doc"><p>Too many open files by the process</p></td></tr><tr id="type-error.EMLINK" class="anchored"><td class="def constructor"><a href="#type-error.EMLINK" class="anchor"></a><code>| </code><code><span class="constructor">EMLINK</span></code></td><td class="doc"><p>Too many links</p></td></tr><tr id="type-error.ENAMETOOLONG" class="anchored"><td class="def constructor"><a href="#type-error.ENAMETOOLONG" class="anchor"></a><code>| </code><code><span class="constructor">ENAMETOOLONG</span></code></td><td class="doc"><p>Filename too long</p></td></tr><tr id="type-error.ENFILE" class="anchored"><td class="def constructor"><a href="#type-error.ENFILE" class="anchor"></a><code>| </code><code><span class="constructor">ENFILE</span></code></td><td class="doc"><p>Too many open files in the system</p></td></tr><tr id="type-error.ENODEV" class="anchored"><td class="def constructor"><a href="#type-error.ENODEV" class="anchor"></a><code>| </code><code><span class="constructor">ENODEV</span></code></td><td class="doc"><p>No such device</p></td></tr><tr id="type-error.ENOENT" class="anchored"><td class="def constructor"><a href="#type-error.ENOENT" class="anchor"></a><code>| </code><code><span class="constructor">ENOENT</span></code></td><td class="doc"><p>No such file or directory</p></td></tr><tr id="type-error.ENOEXEC" class="anchored"><td class="def constructor"><a href="#type-error.ENOEXEC" class="anchor"></a><code>| </code><code><span class="constructor">ENOEXEC</span></code></td><td class="doc"><p>Not an executable file</p></td></tr><tr id="type-error.ENOLCK" class="anchored"><td class="def constructor"><a href="#type-error.ENOLCK" class="anchor"></a><code>| </code><code><span class="constructor">ENOLCK</span></code></td><td class="doc"><p>No locks available</p></td></tr><tr id="type-error.ENOMEM" class="anchored"><td class="def constructor"><a href="#type-error.ENOMEM" class="anchor"></a><code>| </code><code><span class="constructor">ENOMEM</span></code></td><td class="doc"><p>Not enough memory</p></td></tr><tr id="type-error.ENOSPC" class="anchored"><td class="def constructor"><a href="#type-error.ENOSPC" class="anchor"></a><code>| </code><code><span class="constructor">ENOSPC</span></code></td><td class="doc"><p>No space left on device</p></td></tr><tr id="type-error.ENOSYS" class="anchored"><td class="def constructor"><a href="#type-error.ENOSYS" class="anchor"></a><code>| </code><code><span class="constructor">ENOSYS</span></code></td><td class="doc"><p>Function not supported</p></td></tr><tr id="type-error.ENOTDIR" class="anchored"><td class="def constructor"><a href="#type-error.ENOTDIR" class="anchor"></a><code>| </code><code><span class="constructor">ENOTDIR</span></code></td><td class="doc"><p>Not a directory</p></td></tr><tr id="type-error.ENOTEMPTY" class="anchored"><td class="def constructor"><a href="#type-error.ENOTEMPTY" class="anchor"></a><code>| </code><code><span class="constructor">ENOTEMPTY</span></code></td><td class="doc"><p>Directory not empty</p></td></tr><tr id="type-error.ENOTTY" class="anchored"><td class="def constructor"><a href="#type-error.ENOTTY" class="anchor"></a><code>| </code><code><span class="constructor">ENOTTY</span></code></td><td class="doc"><p>Inappropriate I/O control operation</p></td></tr><tr id="type-error.ENXIO" class="anchored"><td class="def constructor"><a href="#type-error.ENXIO" class="anchor"></a><code>| </code><code><span class="constructor">ENXIO</span></code></td><td class="doc"><p>No such device or address</p></td></tr><tr id="type-error.EPERM" class="anchored"><td class="def constructor"><a href="#type-error.EPERM" class="anchor"></a><code>| </code><code><span class="constructor">EPERM</span></code></td><td class="doc"><p>Operation not permitted</p></td></tr><tr id="type-error.EPIPE" class="anchored"><td class="def constructor"><a href="#type-error.EPIPE" class="anchor"></a><code>| </code><code><span class="constructor">EPIPE</span></code></td><td class="doc"><p>Broken pipe</p></td></tr><tr id="type-error.ERANGE" class="anchored"><td class="def constructor"><a href="#type-error.ERANGE" class="anchor"></a><code>| </code><code><span class="constructor">ERANGE</span></code></td><td class="doc"><p>Result too large</p></td></tr><tr id="type-error.EROFS" class="anchored"><td class="def constructor"><a href="#type-error.EROFS" class="anchor"></a><code>| </code><code><span class="constructor">EROFS</span></code></td><td class="doc"><p>Read-only file system</p></td></tr><tr id="type-error.ESPIPE" class="anchored"><td class="def constructor"><a href="#type-error.ESPIPE" class="anchor"></a><code>| </code><code><span class="constructor">ESPIPE</span></code></td><td class="doc"><p>Invalid seek e.g. on a pipe</p></td></tr><tr id="type-error.ESRCH" class="anchored"><td class="def constructor"><a href="#type-error.ESRCH" class="anchor"></a><code>| </code><code><span class="constructor">ESRCH</span></code></td><td class="doc"><p>No such process</p></td></tr><tr id="type-error.EXDEV" class="anchored"><td class="def constructor"><a href="#type-error.EXDEV" class="anchor"></a><code>| </code><code><span class="constructor">EXDEV</span></code></td><td class="doc"><p>Invalid link</p></td></tr><tr id="type-error.EWOULDBLOCK" class="anchored"><td class="def constructor"><a href="#type-error.EWOULDBLOCK" class="anchor"></a><code>| </code><code><span class="constructor">EWOULDBLOCK</span></code></td><td class="doc"><p>Operation would block</p></td></tr><tr id="type-error.EINPROGRESS" class="anchored"><td class="def constructor"><a href="#type-error.EINPROGRESS" class="anchor"></a><code>| </code><code><span class="constructor">EINPROGRESS</span></code></td><td class="doc"><p>Operation now in progress</p></td></tr><tr id="type-error.EALREADY" class="anchored"><td class="def constructor"><a href="#type-error.EALREADY" class="anchor"></a><code>| </code><code><span class="constructor">EALREADY</span></code></td><td class="doc"><p>Operation already in progress</p></td></tr><tr id="type-error.ENOTSOCK" class="anchored"><td class="def constructor"><a href="#type-error.ENOTSOCK" class="anchor"></a><code>| </code><code><span class="constructor">ENOTSOCK</span></code></td><td class="doc"><p>Socket operation on non-socket</p></td></tr><tr id="type-error.EDESTADDRREQ" class="anchored"><td class="def constructor"><a href="#type-error.EDESTADDRREQ" class="anchor"></a><code>| </code><code><span class="constructor">EDESTADDRREQ</span></code></td><td class="doc"><p>Destination address required</p></td></tr><tr id="type-error.EMSGSIZE" class="anchored"><td class="def constructor"><a href="#type-error.EMSGSIZE" class="anchor"></a><code>| </code><code><span class="constructor">EMSGSIZE</span></code></td><td class="doc"><p>Message too long</p></td></tr><tr id="type-error.EPROTOTYPE" class="anchored"><td class="def constructor"><a href="#type-error.EPROTOTYPE" class="anchor"></a><code>| </code><code><span class="constructor">EPROTOTYPE</span></code></td><td class="doc"><p>Protocol wrong type for socket</p></td></tr><tr id="type-error.ENOPROTOOPT" class="anchored"><td class="def constructor"><a href="#type-error.ENOPROTOOPT" class="anchor"></a><code>| </code><code><span class="constructor">ENOPROTOOPT</span></code></td><td class="doc"><p>Protocol not available</p></td></tr><tr id="type-error.EPROTONOSUPPORT" class="anchored"><td class="def constructor"><a href="#type-error.EPROTONOSUPPORT" class="anchor"></a><code>| </code><code><span class="constructor">EPROTONOSUPPORT</span></code></td><td class="doc"><p>Protocol not supported</p></td></tr><tr id="type-error.ESOCKTNOSUPPORT" class="anchored"><td class="def constructor"><a href="#type-error.ESOCKTNOSUPPORT" class="anchor"></a><code>| </code><code><span class="constructor">ESOCKTNOSUPPORT</span></code></td><td class="doc"><p>Socket type not supported</p></td></tr><tr id="type-error.EOPNOTSUPP" class="anchored"><td class="def constructor"><a href="#type-error.EOPNOTSUPP" class="anchor"></a><code>| </code><code><span class="constructor">EOPNOTSUPP</span></code></td><td class="doc"><p>Operation not supported on socket</p></td></tr><tr id="type-error.EPFNOSUPPORT" class="anchored"><td class="def constructor"><a href="#type-error.EPFNOSUPPORT" class="anchor"></a><code>| </code><code><span class="constructor">EPFNOSUPPORT</span></code></td><td class="doc"><p>Protocol family not supported</p></td></tr><tr id="type-error.EAFNOSUPPORT" class="anchored"><td class="def constructor"><a href="#type-error.EAFNOSUPPORT" class="anchor"></a><code>| </code><code><span class="constructor">EAFNOSUPPORT</span></code></td><td class="doc"><p>Address family not supported by protocol family</p></td></tr><tr id="type-error.EADDRINUSE" class="anchored"><td class="def constructor"><a href="#type-error.EADDRINUSE" class="anchor"></a><code>| </code><code><span class="constructor">EADDRINUSE</span></code></td><td class="doc"><p>Address already in use</p></td></tr><tr id="type-error.EADDRNOTAVAIL" class="anchored"><td class="def constructor"><a href="#type-error.EADDRNOTAVAIL" class="anchor"></a><code>| </code><code><span class="constructor">EADDRNOTAVAIL</span></code></td><td class="doc"><p>Can't assign requested address</p></td></tr><tr id="type-error.ENETDOWN" class="anchored"><td class="def constructor"><a href="#type-error.ENETDOWN" class="anchor"></a><code>| </code><code><span class="constructor">ENETDOWN</span></code></td><td class="doc"><p>Network is down</p></td></tr><tr id="type-error.ENETUNREACH" class="anchored"><td class="def constructor"><a href="#type-error.ENETUNREACH" class="anchor"></a><code>| </code><code><span class="constructor">ENETUNREACH</span></code></td><td class="doc"><p>Network is unreachable</p></td></tr><tr id="type-error.ENETRESET" class="anchored"><td class="def constructor"><a href="#type-error.ENETRESET" class="anchor"></a><code>| </code><code><span class="constructor">ENETRESET</span></code></td><td class="doc"><p>Network dropped connection on reset</p></td></tr><tr id="type-error.ECONNABORTED" class="anchored"><td class="def constructor"><a href="#type-error.ECONNABORTED" class="anchor"></a><code>| </code><code><span class="constructor">ECONNABORTED</span></code></td><td class="doc"><p>Software caused connection abort</p></td></tr><tr id="type-error.ECONNRESET" class="anchored"><td class="def constructor"><a href="#type-error.ECONNRESET" class="anchor"></a><code>| </code><code><span class="constructor">ECONNRESET</span></code></td><td class="doc"><p>Connection reset by peer</p></td></tr><tr id="type-error.ENOBUFS" class="anchored"><td class="def constructor"><a href="#type-error.ENOBUFS" class="anchor"></a><code>| </code><code><span class="constructor">ENOBUFS</span></code></td><td class="doc"><p>No buffer space available</p></td></tr><tr id="type-error.EISCONN" class="anchored"><td class="def constructor"><a href="#type-error.EISCONN" class="anchor"></a><code>| </code><code><span class="constructor">EISCONN</span></code></td><td class="doc"><p>Socket is already connected</p></td></tr><tr id="type-error.ENOTCONN" class="anchored"><td class="def constructor"><a href="#type-error.ENOTCONN" class="anchor"></a><code>| </code><code><span class="constructor">ENOTCONN</span></code></td><td class="doc"><p>Socket is not connected</p></td></tr><tr id="type-error.ESHUTDOWN" class="anchored"><td class="def constructor"><a href="#type-error.ESHUTDOWN" class="anchor"></a><code>| </code><code><span class="constructor">ESHUTDOWN</span></code></td><td class="doc"><p>Can't send after socket shutdown</p></td></tr><tr id="type-error.ETOOMANYREFS" class="anchored"><td class="def constructor"><a href="#type-error.ETOOMANYREFS" class="anchor"></a><code>| </code><code><span class="constructor">ETOOMANYREFS</span></code></td><td class="doc"><p>Too many references: can't splice</p></td></tr><tr id="type-error.ETIMEDOUT" class="anchored"><td class="def constructor"><a href="#type-error.ETIMEDOUT" class="anchor"></a><code>| </code><code><span class="constructor">ETIMEDOUT</span></code></td><td class="doc"><p>Connection timed out</p></td></tr><tr id="type-error.ECONNREFUSED" class="anchored"><td class="def constructor"><a href="#type-error.ECONNREFUSED" class="anchor"></a><code>| </code><code><span class="constructor">ECONNREFUSED</span></code></td><td class="doc"><p>Connection refused</p></td></tr><tr id="type-error.EHOSTDOWN" class="anchored"><td class="def constructor"><a href="#type-error.EHOSTDOWN" class="anchor"></a><code>| </code><code><span class="constructor">EHOSTDOWN</span></code></td><td class="doc"><p>Host is down</p></td></tr><tr id="type-error.EHOSTUNREACH" class="anchored"><td class="def constructor"><a href="#type-error.EHOSTUNREACH" class="anchor"></a><code>| </code><code><span class="constructor">EHOSTUNREACH</span></code></td><td class="doc"><p>No route to host</p></td></tr><tr id="type-error.ELOOP" class="anchored"><td class="def constructor"><a href="#type-error.ELOOP" class="anchor"></a><code>| </code><code><span class="constructor">ELOOP</span></code></td><td class="doc"><p>Too many levels of symbolic links</p></td></tr><tr id="type-error.EOVERFLOW" class="anchored"><td class="def constructor"><a href="#type-error.EOVERFLOW" class="anchor"></a><code>| </code><code><span class="constructor">EOVERFLOW</span></code></td><td class="doc"><p>File size or position not representable</p></td></tr><tr id="type-error.EUNKNOWNERR" class="anchored"><td class="def constructor"><a href="#type-error.EUNKNOWNERR" class="anchor"></a><code>| </code><code><span class="constructor">EUNKNOWNERR</span> <span class="keyword">of</span> int</code></td><td class="doc"><p>Unknown error</p></td></tr></table></dt><dd><p>The type of error codes. Errors defined in the POSIX standard and additional errors from UNIX98 and BSD. All other errors are mapped to EUNKNOWNERR.</p></dd></dl><dl><dt class="spec exception" id="exception-Unix_error"><a href="#exception-Unix_error" class="anchor"></a><code><span class="keyword">exception</span> </code><code><span class="exception">Unix_error</span> <span class="keyword">of</span> <a href="index.html#type-error">error</a> * string * string</code></dt><dd><p>Raised by the system calls below when an error is encountered. The first component is the error code; the second component is the function name; the third component is the string parameter to the function, if it has one, or the empty string otherwise.</p></dd></dl><dl><dt class="spec value" id="val-error_message"><a href="#val-error_message" class="anchor"></a><code><span class="keyword">val</span> error_message : <a href="index.html#type-error">error</a> <span>&#45;&gt;</span> string</code></dt><dd><p>Return a string describing the given error code.</p></dd></dl><dl><dt class="spec value" id="val-handle_unix_error"><a href="#val-handle_unix_error" class="anchor"></a><code><span class="keyword">val</span> handle_unix_error : <span>(<span class="type-var">'a</span> <span>&#45;&gt;</span> <span class="type-var">'b</span>)</span> <span>&#45;&gt;</span> <span class="type-var">'a</span> <span>&#45;&gt;</span> <span class="type-var">'b</span></code></dt><dd><p><code>handle_unix_error f x</code> applies <code>f</code> to <code>x</code> and returns the result. If the exception <code>Unix_error</code> is raised, it prints a message describing the error and exits with code 2.</p></dd></dl></section><section><header><h2 id="access-to-the-process-environment"><a href="#access-to-the-process-environment" class="anchor"></a>Access to the process environment</h2></header><dl><dt class="spec value" id="val-environment"><a href="#val-environment" class="anchor"></a><code><span class="keyword">val</span> environment : unit <span>&#45;&gt;</span> <span>string array</span></code></dt><dd><p>Return the process environment, as an array of strings with the format ``variable=value''.</p></dd></dl><dl><dt class="spec value" id="val-getenv"><a href="#val-getenv" class="anchor"></a><code><span class="keyword">val</span> getenv : string <span>&#45;&gt;</span> string</code></dt><dd><p>Return the value associated to a variable in the process environment. Raise <code>Not_found</code> if the variable is unbound. (This function is identical to <code>Sys.getenv</code>.)</p></dd></dl><dl><dt class="spec value" id="val-unsafe_getenv"><a href="#val-unsafe_getenv" class="anchor"></a><code><span class="keyword">val</span> unsafe_getenv : string <span>&#45;&gt;</span> string</code></dt><dd><p>Return the value associated to a variable in the process environment.</p><p>Unlike <a href="index.html#val-getenv"><code>getenv</code></a>, this function returns the value even if the process has special privileges. It is considered unsafe because the programmer of a setuid or setgid program must be careful to avoid using maliciously crafted environment variables in the search path for executables, the locations for temporary files or logs, and the like.</p><dl><dt>raises Not_found</dt><dd><p>if the variable is unbound.</p></dd></dl><dl><dt>since</dt><dd>4.06.0</dd></dl></dd></dl><dl><dt class="spec value" id="val-putenv"><a href="#val-putenv" class="anchor"></a><code><span class="keyword">val</span> putenv : string <span>&#45;&gt;</span> string <span>&#45;&gt;</span> unit</code></dt><dd><p><code>Unix.putenv name value</code> sets the value associated to a variable in the process environment. <code>name</code> is the name of the environment variable, and <code>value</code> its new associated value.</p></dd></dl></section><section><header><h2 id="process-handling"><a href="#process-handling" class="anchor"></a>Process handling</h2></header><dl><dt class="spec type" id="type-process_status"><a href="#type-process_status" class="anchor"></a><code><span class="keyword">type</span> process_status</code><code> = <a href="../Unix/index.html#type-process_status">Unix.process_status</a></code><code> = </code><table class="variant"><tr id="type-process_status.WEXITED" class="anchored"><td class="def constructor"><a href="#type-process_status.WEXITED" class="anchor"></a><code>| </code><code><span class="constructor">WEXITED</span> <span class="keyword">of</span> int</code></td><td class="doc"><p>The process terminated normally by <code>exit</code>; the argument is the return code.</p></td></tr><tr id="type-process_status.WSIGNALED" class="anchored"><td class="def constructor"><a href="#type-process_status.WSIGNALED" class="anchor"></a><code>| </code><code><span class="constructor">WSIGNALED</span> <span class="keyword">of</span> int</code></td><td class="doc"><p>The process was killed by a signal; the argument is the signal number.</p></td></tr><tr id="type-process_status.WSTOPPED" class="anchored"><td class="def constructor"><a href="#type-process_status.WSTOPPED" class="anchor"></a><code>| </code><code><span class="constructor">WSTOPPED</span> <span class="keyword">of</span> int</code></td><td class="doc"><p>The process was stopped by a signal; the argument is the signal number.</p></td></tr></table></dt><dd><p>The termination status of a process. See module <code>Sys</code> for the definitions of the standard signal numbers. Note that they are not the numbers used by the OS.</p></dd></dl><dl><dt class="spec type" id="type-wait_flag"><a href="#type-wait_flag" class="anchor"></a><code><span class="keyword">type</span> wait_flag</code><code> = <a href="../Unix/index.html#type-wait_flag">Unix.wait_flag</a></code><code> = </code><table class="variant"><tr id="type-wait_flag.WNOHANG" class="anchored"><td class="def constructor"><a href="#type-wait_flag.WNOHANG" class="anchor"></a><code>| </code><code><span class="constructor">WNOHANG</span></code></td><td class="doc"><p>do not block if no child has died yet, but immediately return with a pid equal to 0.</p></td></tr><tr id="type-wait_flag.WUNTRACED" class="anchored"><td class="def constructor"><a href="#type-wait_flag.WUNTRACED" class="anchor"></a><code>| </code><code><span class="constructor">WUNTRACED</span></code></td><td class="doc"><p>report also the children that receive stop signals.</p></td></tr></table></dt><dd><p>Flags for <a href="index.html#val-waitpid"><code>UnixLabels.waitpid</code></a>.</p></dd></dl><dl><dt class="spec value" id="val-execv"><a href="#val-execv" class="anchor"></a><code><span class="keyword">val</span> execv : <span>prog:string</span> <span>&#45;&gt;</span> <span>args:<span>string array</span></span> <span>&#45;&gt;</span> <span class="type-var">'a</span></code></dt><dd><p><code>execv prog args</code> execute the program in file <code>prog</code>, with the arguments <code>args</code>, and the current process environment. These <code>execv*</code> functions never return: on success, the current program is replaced by the new one; on failure, a <a href="index.html#exception-Unix_error"><code>UnixLabels.Unix_error</code></a> exception is raised.</p></dd></dl><dl><dt class="spec value" id="val-execve"><a href="#val-execve" class="anchor"></a><code><span class="keyword">val</span> execve : <span>prog:string</span> <span>&#45;&gt;</span> <span>args:<span>string array</span></span> <span>&#45;&gt;</span> <span>env:<span>string array</span></span> <span>&#45;&gt;</span> <span class="type-var">'a</span></code></dt><dd><p>Same as <a href="index.html#val-execv"><code>UnixLabels.execv</code></a>, except that the third argument provides the environment to the program executed.</p></dd></dl><dl><dt class="spec value" id="val-execvp"><a href="#val-execvp" class="anchor"></a><code><span class="keyword">val</span> execvp : <span>prog:string</span> <span>&#45;&gt;</span> <span>args:<span>string array</span></span> <span>&#45;&gt;</span> <span class="type-var">'a</span></code></dt><dd><p>Same as <a href="index.html#val-execv"><code>UnixLabels.execv</code></a>, except that the program is searched in the path.</p></dd></dl><dl><dt class="spec value" id="val-execvpe"><a href="#val-execvpe" class="anchor"></a><code><span class="keyword">val</span> execvpe : <span>prog:string</span> <span>&#45;&gt;</span> <span>args:<span>string array</span></span> <span>&#45;&gt;</span> <span>env:<span>string array</span></span> <span>&#45;&gt;</span> <span class="type-var">'a</span></code></dt><dd><p>Same as <a href="index.html#val-execve"><code>UnixLabels.execve</code></a>, except that the program is searched in the path.</p></dd></dl><dl><dt class="spec value" id="val-fork"><a href="#val-fork" class="anchor"></a><code><span class="keyword">val</span> fork : unit <span>&#45;&gt;</span> int</code></dt><dd><p>Fork a new process. The returned integer is 0 for the child process, the pid of the child process for the parent process.</p></dd></dl><dl><dt class="spec value" id="val-wait"><a href="#val-wait" class="anchor"></a><code><span class="keyword">val</span> wait : unit <span>&#45;&gt;</span> int * <a href="index.html#type-process_status">process_status</a></code></dt><dd><p>Wait until one of the children processes die, and return its pid and termination status.</p></dd></dl><dl><dt class="spec value" id="val-waitpid"><a href="#val-waitpid" class="anchor"></a><code><span class="keyword">val</span> waitpid : <span>mode:<span><a href="index.html#type-wait_flag">wait_flag</a> list</span></span> <span>&#45;&gt;</span> int <span>&#45;&gt;</span> int * <a href="index.html#type-process_status">process_status</a></code></dt><dd><p>Same as <a href="index.html#val-wait"><code>UnixLabels.wait</code></a>, but waits for the child process whose pid is given. A pid of <code>-1</code> means wait for any child. A pid of <code>0</code> means wait for any child in the same process group as the current process. Negative pid arguments represent process groups. The list of options indicates whether <code>waitpid</code> should return immediately without waiting, or also report stopped children.</p></dd></dl><dl><dt class="spec value" id="val-system"><a href="#val-system" class="anchor"></a><code><span class="keyword">val</span> system : string <span>&#45;&gt;</span> <a href="index.html#type-process_status">process_status</a></code></dt><dd><p>Execute the given command, wait until it terminates, and return its termination status. The string is interpreted by the shell <code>/bin/sh</code> and therefore can contain redirections, quotes, variables, etc. The result <code>WEXITED 127</code> indicates that the shell couldn't be executed.</p></dd></dl><dl><dt class="spec value" id="val-getpid"><a href="#val-getpid" class="anchor"></a><code><span class="keyword">val</span> getpid : unit <span>&#45;&gt;</span> int</code></dt><dd><p>Return the pid of the process.</p></dd></dl><dl><dt class="spec value" id="val-getppid"><a href="#val-getppid" class="anchor"></a><code><span class="keyword">val</span> getppid : unit <span>&#45;&gt;</span> int</code></dt><dd><p>Return the pid of the parent process.</p></dd></dl><dl><dt class="spec value" id="val-nice"><a href="#val-nice" class="anchor"></a><code><span class="keyword">val</span> nice : int <span>&#45;&gt;</span> int</code></dt><dd><p>Change the process priority. The integer argument is added to the ``nice'' value. (Higher values of the ``nice'' value mean lower priorities.) Return the new nice value.</p></dd></dl></section><section><header><h2 id="basic-file-input/output"><a href="#basic-file-input/output" class="anchor"></a>Basic file input/output</h2></header><dl><dt class="spec type" id="type-file_descr"><a href="#type-file_descr" class="anchor"></a><code><span class="keyword">type</span> file_descr</code><code> = <a href="../Unix/index.html#type-file_descr">Unix.file_descr</a></code></dt><dd><p>The abstract type of file descriptors.</p></dd></dl><dl><dt class="spec value" id="val-stdin"><a href="#val-stdin" class="anchor"></a><code><span class="keyword">val</span> stdin : <a href="index.html#type-file_descr">file_descr</a></code></dt><dd><p>File descriptor for standard input.</p></dd></dl><dl><dt class="spec value" id="val-stdout"><a href="#val-stdout" class="anchor"></a><code><span class="keyword">val</span> stdout : <a href="index.html#type-file_descr">file_descr</a></code></dt><dd><p>File descriptor for standard output.</p></dd></dl><dl><dt class="spec value" id="val-stderr"><a href="#val-stderr" class="anchor"></a><code><span class="keyword">val</span> stderr : <a href="index.html#type-file_descr">file_descr</a></code></dt><dd><p>File descriptor for standard error.</p></dd></dl><dl><dt class="spec type" id="type-open_flag"><a href="#type-open_flag" class="anchor"></a><code><span class="keyword">type</span> open_flag</code><code> = <a href="../Unix/index.html#type-open_flag">Unix.open_flag</a></code><code> = </code><table class="variant"><tr id="type-open_flag.O_RDONLY" class="anchored"><td class="def constructor"><a href="#type-open_flag.O_RDONLY" class="anchor"></a><code>| </code><code><span class="constructor">O_RDONLY</span></code></td><td class="doc"><p>Open for reading</p></td></tr><tr id="type-open_flag.O_WRONLY" class="anchored"><td class="def constructor"><a href="#type-open_flag.O_WRONLY" class="anchor"></a><code>| </code><code><span class="constructor">O_WRONLY</span></code></td><td class="doc"><p>Open for writing</p></td></tr><tr id="type-open_flag.O_RDWR" class="anchored"><td class="def constructor"><a href="#type-open_flag.O_RDWR" class="anchor"></a><code>| </code><code><span class="constructor">O_RDWR</span></code></td><td class="doc"><p>Open for reading and writing</p></td></tr><tr id="type-open_flag.O_NONBLOCK" class="anchored"><td class="def constructor"><a href="#type-open_flag.O_NONBLOCK" class="anchor"></a><code>| </code><code><span class="constructor">O_NONBLOCK</span></code></td><td class="doc"><p>Open in non-blocking mode</p></td></tr><tr id="type-open_flag.O_APPEND" class="anchored"><td class="def constructor"><a href="#type-open_flag.O_APPEND" class="anchor"></a><code>| </code><code><span class="constructor">O_APPEND</span></code></td><td class="doc"><p>Open for append</p></td></tr><tr id="type-open_flag.O_CREAT" class="anchored"><td class="def constructor"><a href="#type-open_flag.O_CREAT" class="anchor"></a><code>| </code><code><span class="constructor">O_CREAT</span></code></td><td class="doc"><p>Create if nonexistent</p></td></tr><tr id="type-open_flag.O_TRUNC" class="anchored"><td class="def constructor"><a href="#type-open_flag.O_TRUNC" class="anchor"></a><code>| </code><code><span class="constructor">O_TRUNC</span></code></td><td class="doc"><p>Truncate to 0 length if existing</p></td></tr><tr id="type-open_flag.O_EXCL" class="anchored"><td class="def constructor"><a href="#type-open_flag.O_EXCL" class="anchor"></a><code>| </code><code><span class="constructor">O_EXCL</span></code></td><td class="doc"><p>Fail if existing</p></td></tr><tr id="type-open_flag.O_NOCTTY" class="anchored"><td class="def constructor"><a href="#type-open_flag.O_NOCTTY" class="anchor"></a><code>| </code><code><span class="constructor">O_NOCTTY</span></code></td><td class="doc"><p>Don't make this dev a controlling tty</p></td></tr><tr id="type-open_flag.O_DSYNC" class="anchored"><td class="def constructor"><a href="#type-open_flag.O_DSYNC" class="anchor"></a><code>| </code><code><span class="constructor">O_DSYNC</span></code></td><td class="doc"><p>Writes complete as `Synchronised I/O data integrity completion'</p></td></tr><tr id="type-open_flag.O_SYNC" class="anchored"><td class="def constructor"><a href="#type-open_flag.O_SYNC" class="anchor"></a><code>| </code><code><span class="constructor">O_SYNC</span></code></td><td class="doc"><p>Writes complete as `Synchronised I/O file integrity completion'</p></td></tr><tr id="type-open_flag.O_RSYNC" class="anchored"><td class="def constructor"><a href="#type-open_flag.O_RSYNC" class="anchor"></a><code>| </code><code><span class="constructor">O_RSYNC</span></code></td><td class="doc"><p>Reads complete as writes (depending on O_SYNC/O_DSYNC)</p></td></tr><tr id="type-open_flag.O_SHARE_DELETE" class="anchored"><td class="def constructor"><a href="#type-open_flag.O_SHARE_DELETE" class="anchor"></a><code>| </code><code><span class="constructor">O_SHARE_DELETE</span></code></td><td class="doc"><p>Windows only: allow the file to be deleted while still open</p></td></tr><tr id="type-open_flag.O_CLOEXEC" class="anchored"><td class="def constructor"><a href="#type-open_flag.O_CLOEXEC" class="anchor"></a><code>| </code><code><span class="constructor">O_CLOEXEC</span></code></td><td class="doc"><p>Set the close-on-exec flag on the descriptor returned by <a href="index.html#val-openfile"><code>openfile</code></a></p></td></tr><tr id="type-open_flag.O_KEEPEXEC" class="anchored"><td class="def constructor"><a href="#type-open_flag.O_KEEPEXEC" class="anchor"></a><code>| </code><code><span class="constructor">O_KEEPEXEC</span></code></td><td class="doc"><p>Clear the close-on-exec flag. This is currently the default.</p></td></tr></table></dt><dd><p>The flags to <a href="index.html#val-openfile"><code>UnixLabels.openfile</code></a>.</p></dd></dl><dl><dt class="spec type" id="type-file_perm"><a href="#type-file_perm" class="anchor"></a><code><span class="keyword">type</span> file_perm</code><code> = int</code></dt><dd><p>The type of file access rights, e.g. <code>0o640</code> is read and write for user, read for group, none for others</p></dd></dl><dl><dt class="spec value" id="val-openfile"><a href="#val-openfile" class="anchor"></a><code><span class="keyword">val</span> openfile : string <span>&#45;&gt;</span> <span>mode:<span><a href="index.html#type-open_flag">open_flag</a> list</span></span> <span>&#45;&gt;</span> <span>perm:<a href="index.html#type-file_perm">file_perm</a></span> <span>&#45;&gt;</span> <a href="index.html#type-file_descr">file_descr</a></code></dt><dd><p>Open the named file with the given flags. Third argument is the permissions to give to the file if it is created. Return a file descriptor on the named file.</p></dd></dl><dl><dt class="spec value" id="val-close"><a href="#val-close" class="anchor"></a><code><span class="keyword">val</span> close : <a href="index.html#type-file_descr">file_descr</a> <span>&#45;&gt;</span> unit</code></dt><dd><p>Close a file descriptor.</p></dd></dl><dl><dt class="spec value" id="val-read"><a href="#val-read" class="anchor"></a><code><span class="keyword">val</span> read : <a href="index.html#type-file_descr">file_descr</a> <span>&#45;&gt;</span> <span>buf:bytes</span> <span>&#45;&gt;</span> <span>pos:int</span> <span>&#45;&gt;</span> <span>len:int</span> <span>&#45;&gt;</span> int</code></dt><dd><p><code>read fd buff ofs len</code> reads <code>len</code> bytes from descriptor <code>fd</code>, storing them in byte sequence <code>buff</code>, starting at position <code>ofs</code> in <code>buff</code>. Return the number of bytes actually read.</p></dd></dl><dl><dt class="spec value" id="val-write"><a href="#val-write" class="anchor"></a><code><span class="keyword">val</span> write : <a href="index.html#type-file_descr">file_descr</a> <span>&#45;&gt;</span> <span>buf:bytes</span> <span>&#45;&gt;</span> <span>pos:int</span> <span>&#45;&gt;</span> <span>len:int</span> <span>&#45;&gt;</span> int</code></dt><dd><p><code>write fd buff ofs len</code> writes <code>len</code> bytes to descriptor <code>fd</code>, taking them from byte sequence <code>buff</code>, starting at position <code>ofs</code> in <code>buff</code>. Return the number of bytes actually written. <code>write</code> repeats the writing operation until all bytes have been written or an error occurs.</p></dd></dl><dl><dt class="spec value" id="val-single_write"><a href="#val-single_write" class="anchor"></a><code><span class="keyword">val</span> single_write : <a href="index.html#type-file_descr">file_descr</a> <span>&#45;&gt;</span> <span>buf:bytes</span> <span>&#45;&gt;</span> <span>pos:int</span> <span>&#45;&gt;</span> <span>len:int</span> <span>&#45;&gt;</span> int</code></dt><dd><p>Same as <code>write</code>, but attempts to write only once. Thus, if an error occurs, <code>single_write</code> guarantees that no data has been written.</p></dd></dl><dl><dt class="spec value" id="val-write_substring"><a href="#val-write_substring" class="anchor"></a><code><span class="keyword">val</span> write_substring : <a href="index.html#type-file_descr">file_descr</a> <span>&#45;&gt;</span> <span>buf:string</span> <span>&#45;&gt;</span> <span>pos:int</span> <span>&#45;&gt;</span> <span>len:int</span> <span>&#45;&gt;</span> int</code></dt><dd><p>Same as <code>write</code>, but take the data from a string instead of a byte sequence.</p><dl><dt>since</dt><dd>4.02.0</dd></dl></dd></dl><dl><dt class="spec value" id="val-single_write_substring"><a href="#val-single_write_substring" class="anchor"></a><code><span class="keyword">val</span> single_write_substring : <a href="index.html#type-file_descr">file_descr</a> <span>&#45;&gt;</span> <span>buf:string</span> <span>&#45;&gt;</span> <span>pos:int</span> <span>&#45;&gt;</span> <span>len:int</span> <span>&#45;&gt;</span> int</code></dt><dd><p>Same as <code>single_write</code>, but take the data from a string instead of a byte sequence.</p><dl><dt>since</dt><dd>4.02.0</dd></dl></dd></dl></section><section><header><h2 id="interfacing-with-the-standard-input/output-library"><a href="#interfacing-with-the-standard-input/output-library" class="anchor"></a>Interfacing with the standard input/output library</h2></header><dl><dt class="spec value" id="val-in_channel_of_descr"><a href="#val-in_channel_of_descr" class="anchor"></a><code><span class="keyword">val</span> in_channel_of_descr : <a href="index.html#type-file_descr">file_descr</a> <span>&#45;&gt;</span> <a href="../Stdlib/index.html#type-in_channel">Stdlib.in_channel</a></code></dt><dd><p>Create an input channel reading from the given descriptor. The channel is initially in binary mode; use <code>set_binary_mode_in ic false</code> if text mode is desired.</p></dd></dl><dl><dt class="spec value" id="val-out_channel_of_descr"><a href="#val-out_channel_of_descr" class="anchor"></a><code><span class="keyword">val</span> out_channel_of_descr : <a href="index.html#type-file_descr">file_descr</a> <span>&#45;&gt;</span> <a href="../Stdlib/index.html#type-out_channel">Stdlib.out_channel</a></code></dt><dd><p>Create an output channel writing on the given descriptor. The channel is initially in binary mode; use <code>set_binary_mode_out oc false</code> if text mode is desired.</p></dd></dl><dl><dt class="spec value" id="val-descr_of_in_channel"><a href="#val-descr_of_in_channel" class="anchor"></a><code><span class="keyword">val</span> descr_of_in_channel : <a href="../Stdlib/index.html#type-in_channel">Stdlib.in_channel</a> <span>&#45;&gt;</span> <a href="index.html#type-file_descr">file_descr</a></code></dt><dd><p>Return the descriptor corresponding to an input channel.</p></dd></dl><dl><dt class="spec value" id="val-descr_of_out_channel"><a href="#val-descr_of_out_channel" class="anchor"></a><code><span class="keyword">val</span> descr_of_out_channel : <a href="../Stdlib/index.html#type-out_channel">Stdlib.out_channel</a> <span>&#45;&gt;</span> <a href="index.html#type-file_descr">file_descr</a></code></dt><dd><p>Return the descriptor corresponding to an output channel.</p></dd></dl></section><section><header><h2 id="seeking-and-truncating"><a href="#seeking-and-truncating" class="anchor"></a>Seeking and truncating</h2></header><dl><dt class="spec type" id="type-seek_command"><a href="#type-seek_command" class="anchor"></a><code><span class="keyword">type</span> seek_command</code><code> = <a href="../Unix/index.html#type-seek_command">Unix.seek_command</a></code><code> = </code><table class="variant"><tr id="type-seek_command.SEEK_SET" class="anchored"><td class="def constructor"><a href="#type-seek_command.SEEK_SET" class="anchor"></a><code>| </code><code><span class="constructor">SEEK_SET</span></code></td><td class="doc"><p>indicates positions relative to the beginning of the file</p></td></tr><tr id="type-seek_command.SEEK_CUR" class="anchored"><td class="def constructor"><a href="#type-seek_command.SEEK_CUR" class="anchor"></a><code>| </code><code><span class="constructor">SEEK_CUR</span></code></td><td class="doc"><p>indicates positions relative to the current position</p></td></tr><tr id="type-seek_command.SEEK_END" class="anchored"><td class="def constructor"><a href="#type-seek_command.SEEK_END" class="anchor"></a><code>| </code><code><span class="constructor">SEEK_END</span></code></td><td class="doc"><p>indicates positions relative to the end of the file</p></td></tr></table></dt><dd><p>Positioning modes for <a href="index.html#val-lseek"><code>UnixLabels.lseek</code></a>.</p></dd></dl><dl><dt class="spec value" id="val-lseek"><a href="#val-lseek" class="anchor"></a><code><span class="keyword">val</span> lseek : <a href="index.html#type-file_descr">file_descr</a> <span>&#45;&gt;</span> int <span>&#45;&gt;</span> <span>mode:<a href="index.html#type-seek_command">seek_command</a></span> <span>&#45;&gt;</span> int</code></dt><dd><p>Set the current position for a file descriptor, and return the resulting offset (from the beginning of the file).</p></dd></dl><dl><dt class="spec value" id="val-truncate"><a href="#val-truncate" class="anchor"></a><code><span class="keyword">val</span> truncate : string <span>&#45;&gt;</span> <span>len:int</span> <span>&#45;&gt;</span> unit</code></dt><dd><p>Truncates the named file to the given size.</p></dd></dl><dl><dt class="spec value" id="val-ftruncate"><a href="#val-ftruncate" class="anchor"></a><code><span class="keyword">val</span> ftruncate : <a href="index.html#type-file_descr">file_descr</a> <span>&#45;&gt;</span> <span>len:int</span> <span>&#45;&gt;</span> unit</code></dt><dd><p>Truncates the file corresponding to the given descriptor to the given size.</p></dd></dl></section><section><header><h2 id="file-status"><a href="#file-status" class="anchor"></a>File status</h2></header><dl><dt class="spec type" id="type-file_kind"><a href="#type-file_kind" class="anchor"></a><code><span class="keyword">type</span> file_kind</code><code> = <a href="../Unix/index.html#type-file_kind">Unix.file_kind</a></code><code> = </code><table class="variant"><tr id="type-file_kind.S_REG" class="anchored"><td class="def constructor"><a href="#type-file_kind.S_REG" class="anchor"></a><code>| </code><code><span class="constructor">S_REG</span></code></td><td class="doc"><p>Regular file</p></td></tr><tr id="type-file_kind.S_DIR" class="anchored"><td class="def constructor"><a href="#type-file_kind.S_DIR" class="anchor"></a><code>| </code><code><span class="constructor">S_DIR</span></code></td><td class="doc"><p>Directory</p></td></tr><tr id="type-file_kind.S_CHR" class="anchored"><td class="def constructor"><a href="#type-file_kind.S_CHR" class="anchor"></a><code>| </code><code><span class="constructor">S_CHR</span></code></td><td class="doc"><p>Character device</p></td></tr><tr id="type-file_kind.S_BLK" class="anchored"><td class="def constructor"><a href="#type-file_kind.S_BLK" class="anchor"></a><code>| </code><code><span class="constructor">S_BLK</span></code></td><td class="doc"><p>Block device</p></td></tr><tr id="type-file_kind.S_LNK" class="anchored"><td class="def constructor"><a href="#type-file_kind.S_LNK" class="anchor"></a><code>| </code><code><span class="constructor">S_LNK</span></code></td><td class="doc"><p>Symbolic link</p></td></tr><tr id="type-file_kind.S_FIFO" class="anchored"><td class="def constructor"><a href="#type-file_kind.S_FIFO" class="anchor"></a><code>| </code><code><span class="constructor">S_FIFO</span></code></td><td class="doc"><p>Named pipe</p></td></tr><tr id="type-file_kind.S_SOCK" class="anchored"><td class="def constructor"><a href="#type-file_kind.S_SOCK" class="anchor"></a><code>| </code><code><span class="constructor">S_SOCK</span></code></td><td class="doc"><p>Socket</p></td></tr></table></dt><dt class="spec type" id="type-stats"><a href="#type-stats" class="anchor"></a><code><span class="keyword">type</span> stats</code><code> = <a href="../Unix/index.html#type-stats">Unix.stats</a></code><code> = </code><code>{</code><table class="record"><tr id="type-stats.st_dev" class="anchored"><td class="def field"><a href="#type-stats.st_dev" class="anchor"></a><code>st_dev : int;</code></td><td class="doc"><p>Device number</p></td></tr><tr id="type-stats.st_ino" class="anchored"><td class="def field"><a href="#type-stats.st_ino" class="anchor"></a><code>st_ino : int;</code></td><td class="doc"><p>Inode number</p></td></tr><tr id="type-stats.st_kind" class="anchored"><td class="def field"><a href="#type-stats.st_kind" class="anchor"></a><code>st_kind : <a href="index.html#type-file_kind">file_kind</a>;</code></td><td class="doc"><p>Kind of the file</p></td></tr><tr id="type-stats.st_perm" class="anchored"><td class="def field"><a href="#type-stats.st_perm" class="anchor"></a><code>st_perm : <a href="index.html#type-file_perm">file_perm</a>;</code></td><td class="doc"><p>Access rights</p></td></tr><tr id="type-stats.st_nlink" class="anchored"><td class="def field"><a href="#type-stats.st_nlink" class="anchor"></a><code>st_nlink : int;</code></td><td class="doc"><p>Number of links</p></td></tr><tr id="type-stats.st_uid" class="anchored"><td class="def field"><a href="#type-stats.st_uid" class="anchor"></a><code>st_uid : int;</code></td><td class="doc"><p>User id of the owner</p></td></tr><tr id="type-stats.st_gid" class="anchored"><td class="def field"><a href="#type-stats.st_gid" class="anchor"></a><code>st_gid : int;</code></td><td class="doc"><p>Group ID of the file's group</p></td></tr><tr id="type-stats.st_rdev" class="anchored"><td class="def field"><a href="#type-stats.st_rdev" class="anchor"></a><code>st_rdev : int;</code></td><td class="doc"><p>Device ID (if special file)</p></td></tr><tr id="type-stats.st_size" class="anchored"><td class="def field"><a href="#type-stats.st_size" class="anchor"></a><code>st_size : int;</code></td><td class="doc"><p>Size in bytes</p></td></tr><tr id="type-stats.st_atime" class="anchored"><td class="def field"><a href="#type-stats.st_atime" class="anchor"></a><code>st_atime : float;</code></td><td class="doc"><p>Last access time</p></td></tr><tr id="type-stats.st_mtime" class="anchored"><td class="def field"><a href="#type-stats.st_mtime" class="anchor"></a><code>st_mtime : float;</code></td><td class="doc"><p>Last modification time</p></td></tr><tr id="type-stats.st_ctime" class="anchored"><td class="def field"><a href="#type-stats.st_ctime" class="anchor"></a><code>st_ctime : float;</code></td><td class="doc"><p>Last status change time</p></td></tr></table><code>}</code></dt><dd><p>The information returned by the <a href="index.html#val-stat"><code>UnixLabels.stat</code></a> calls.</p></dd></dl><dl><dt class="spec value" id="val-stat"><a href="#val-stat" class="anchor"></a><code><span class="keyword">val</span> stat : string <span>&#45;&gt;</span> <a href="index.html#type-stats">stats</a></code></dt><dd><p>Return the information for the named file.</p></dd></dl><dl><dt class="spec value" id="val-lstat"><a href="#val-lstat" class="anchor"></a><code><span class="keyword">val</span> lstat : string <span>&#45;&gt;</span> <a href="index.html#type-stats">stats</a></code></dt><dd><p>Same as <a href="index.html#val-stat"><code>UnixLabels.stat</code></a>, but in case the file is a symbolic link, return the information for the link itself.</p></dd></dl><dl><dt class="spec value" id="val-fstat"><a href="#val-fstat" class="anchor"></a><code><span class="keyword">val</span> fstat : <a href="index.html#type-file_descr">file_descr</a> <span>&#45;&gt;</span> <a href="index.html#type-stats">stats</a></code></dt><dd><p>Return the information for the file associated with the given descriptor.</p></dd></dl><dl><dt class="spec value" id="val-isatty"><a href="#val-isatty" class="anchor"></a><code><span class="keyword">val</span> isatty : <a href="index.html#type-file_descr">file_descr</a> <span>&#45;&gt;</span> bool</code></dt><dd><p>Return <code>true</code> if the given file descriptor refers to a terminal or console window, <code>false</code> otherwise.</p></dd></dl></section><section><header><h2 id="file-operations-on-large-files"><a href="#file-operations-on-large-files" class="anchor"></a>File operations on large files</h2></header><dl><dt class="spec module" id="module-LargeFile"><a href="#module-LargeFile" class="anchor"></a><code><span class="keyword">module</span> <a href="LargeFile/index.html">LargeFile</a> : <span class="keyword">sig</span> ... <span class="keyword">end</span></code></dt><dd><p>File operations on large files. This sub-module provides 64-bit variants of the functions <a href="index.html#val-lseek"><code>UnixLabels.lseek</code></a> (for positioning a file descriptor), <a href="index.html#val-truncate"><code>UnixLabels.truncate</code></a> and <a href="index.html#val-ftruncate"><code>UnixLabels.ftruncate</code></a> (for changing the size of a file), and <a href="index.html#val-stat"><code>UnixLabels.stat</code></a>, <a href="index.html#val-lstat"><code>UnixLabels.lstat</code></a> and <a href="index.html#val-fstat"><code>UnixLabels.fstat</code></a> (for obtaining information on files). These alternate functions represent positions and sizes by 64-bit integers (type <code>int64</code>) instead of regular integers (type <code>int</code>), thus allowing operating on files whose sizes are greater than <code>max_int</code>.</p></dd></dl></section><section><header><h2 id="mapping-files-into-memory"><a href="#mapping-files-into-memory" class="anchor"></a>Mapping files into memory</h2></header><dl><dt class="spec value" id="val-map_file"><a href="#val-map_file" class="anchor"></a><code><span class="keyword">val</span> map_file : <a href="index.html#type-file_descr">file_descr</a> <span>&#45;&gt;</span> <span>?&#8288;pos:int64</span> <span>&#45;&gt;</span> <span>kind:<span><span>(<span class="type-var">'a</span>,Â <span class="type-var">'b</span>)</span> <a href="../Bigarray/index.html#type-kind">Bigarray.kind</a></span></span> <span>&#45;&gt;</span> <span>layout:<span><span class="type-var">'c</span> <a href="../Bigarray/index.html#type-layout">Bigarray.layout</a></span></span> <span>&#45;&gt;</span> <span>shared:bool</span> <span>&#45;&gt;</span> <span>dims:<span>int array</span></span> <span>&#45;&gt;</span> <span><span>(<span class="type-var">'a</span>,Â <span class="type-var">'b</span>,Â <span class="type-var">'c</span>)</span> <a href="../Bigarray/Genarray/index.html#type-t">Bigarray.Genarray.t</a></span></code></dt><dd><p>Memory mapping of a file as a Bigarray. <code>map_file fd kind layout shared dims</code> returns a Bigarray of kind <code>kind</code>, layout <code>layout</code>, and dimensions as specified in <code>dims</code>. The data contained in this Bigarray are the contents of the file referred to by the file descriptor <code>fd</code> (as opened previously with <code>Unix.openfile</code>, for example). The optional <code>pos</code> parameter is the byte offset in the file of the data being mapped; it defaults to 0 (map from the beginning of the file).</p><p>If <code>shared</code> is <code>true</code>, all modifications performed on the array are reflected in the file. This requires that <code>fd</code> be opened with write permissions. If <code>shared</code> is <code>false</code>, modifications performed on the array are done in memory only, using copy-on-write of the modified pages; the underlying file is not affected.</p><p><code>Genarray.map_file</code> is much more efficient than reading the whole file in a Bigarray, modifying that Bigarray, and writing it afterwards.</p><p>To adjust automatically the dimensions of the Bigarray to the actual size of the file, the major dimension (that is, the first dimension for an array with C layout, and the last dimension for an array with Fortran layout) can be given as <code>-1</code>. <code>Genarray.map_file</code> then determines the major dimension from the size of the file. The file must contain an integral number of sub-arrays as determined by the non-major dimensions, otherwise <code>Failure</code> is raised.</p><p>If all dimensions of the Bigarray are given, the file size is matched against the size of the Bigarray. If the file is larger than the Bigarray, only the initial portion of the file is mapped to the Bigarray. If the file is smaller than the big array, the file is automatically grown to the size of the Bigarray. This requires write permissions on <code>fd</code>.</p><p>Array accesses are bounds-checked, but the bounds are determined by the initial call to <code>map_file</code>. Therefore, you should make sure no other process modifies the mapped file while you're accessing it, or a SIGBUS signal may be raised. This happens, for instance, if the file is shrunk.</p><p><code>Invalid_argument</code> or <code>Failure</code> may be raised in cases where argument validation fails.</p><dl><dt>since</dt><dd>4.06.0</dd></dl></dd></dl></section><section><header><h2 id="operations-on-file-names"><a href="#operations-on-file-names" class="anchor"></a>Operations on file names</h2></header><dl><dt class="spec value" id="val-unlink"><a href="#val-unlink" class="anchor"></a><code><span class="keyword">val</span> unlink : string <span>&#45;&gt;</span> unit</code></dt><dd><p>Removes the named file</p></dd></dl><dl><dt class="spec value" id="val-rename"><a href="#val-rename" class="anchor"></a><code><span class="keyword">val</span> rename : <span>src:string</span> <span>&#45;&gt;</span> <span>dst:string</span> <span>&#45;&gt;</span> unit</code></dt><dd><p><code>rename old new</code> changes the name of a file from <code>old</code> to <code>new</code>.</p></dd></dl><dl><dt class="spec value" id="val-link"><a href="#val-link" class="anchor"></a><code><span class="keyword">val</span> link : <span>?&#8288;follow:bool</span> <span>&#45;&gt;</span> <span>src:string</span> <span>&#45;&gt;</span> <span>dst:string</span> <span>&#45;&gt;</span> unit</code></dt><dd><p><code>link ?follow source dest</code> creates a hard link named <code>dest</code> to the file named <code>source</code>.</p><dl><dt>parameter follow</dt><dd><p>indicates whether a <code>source</code> symlink is followed or a hardlink to <code>source</code> itself will be created. On <em>Unix</em> systems this is done using the <code>linkat(2)</code> function. If <code>?follow</code> is not provided, then the <code>link(2)</code> function is used whose behaviour is OS-dependent, but more widely available.</p></dd></dl><dl><dt>raises ENOSYS</dt><dd><p>On <em>Unix</em> if <code>~follow:_</code> is requested, but linkat is unavailable.</p></dd></dl><dl><dt>raises ENOSYS</dt><dd><p>On <em>Windows</em> if <code>~follow:false</code> is requested.</p></dd></dl></dd></dl></section><section><header><h2 id="file-permissions-and-ownership"><a href="#file-permissions-and-ownership" class="anchor"></a>File permissions and ownership</h2></header><dl><dt class="spec type" id="type-access_permission"><a href="#type-access_permission" class="anchor"></a><code><span class="keyword">type</span> access_permission</code><code> = <a href="../Unix/index.html#type-access_permission">Unix.access_permission</a></code><code> = </code><table class="variant"><tr id="type-access_permission.R_OK" class="anchored"><td class="def constructor"><a href="#type-access_permission.R_OK" class="anchor"></a><code>| </code><code><span class="constructor">R_OK</span></code></td><td class="doc"><p>Read permission</p></td></tr><tr id="type-access_permission.W_OK" class="anchored"><td class="def constructor"><a href="#type-access_permission.W_OK" class="anchor"></a><code>| </code><code><span class="constructor">W_OK</span></code></td><td class="doc"><p>Write permission</p></td></tr><tr id="type-access_permission.X_OK" class="anchored"><td class="def constructor"><a href="#type-access_permission.X_OK" class="anchor"></a><code>| </code><code><span class="constructor">X_OK</span></code></td><td class="doc"><p>Execution permission</p></td></tr><tr id="type-access_permission.F_OK" class="anchored"><td class="def constructor"><a href="#type-access_permission.F_OK" class="anchor"></a><code>| </code><code><span class="constructor">F_OK</span></code></td><td class="doc"><p>File exists</p></td></tr></table></dt><dd><p>Flags for the <a href="index.html#val-access"><code>UnixLabels.access</code></a> call.</p></dd></dl><dl><dt class="spec value" id="val-chmod"><a href="#val-chmod" class="anchor"></a><code><span class="keyword">val</span> chmod : string <span>&#45;&gt;</span> <span>perm:<a href="index.html#type-file_perm">file_perm</a></span> <span>&#45;&gt;</span> unit</code></dt><dd><p>Change the permissions of the named file.</p></dd></dl><dl><dt class="spec value" id="val-fchmod"><a href="#val-fchmod" class="anchor"></a><code><span class="keyword">val</span> fchmod : <a href="index.html#type-file_descr">file_descr</a> <span>&#45;&gt;</span> <span>perm:<a href="index.html#type-file_perm">file_perm</a></span> <span>&#45;&gt;</span> unit</code></dt><dd><p>Change the permissions of an opened file.</p></dd></dl><dl><dt class="spec value" id="val-chown"><a href="#val-chown" class="anchor"></a><code><span class="keyword">val</span> chown : string <span>&#45;&gt;</span> <span>uid:int</span> <span>&#45;&gt;</span> <span>gid:int</span> <span>&#45;&gt;</span> unit</code></dt><dd><p>Change the owner uid and owner gid of the named file.</p></dd></dl><dl><dt class="spec value" id="val-fchown"><a href="#val-fchown" class="anchor"></a><code><span class="keyword">val</span> fchown : <a href="index.html#type-file_descr">file_descr</a> <span>&#45;&gt;</span> <span>uid:int</span> <span>&#45;&gt;</span> <span>gid:int</span> <span>&#45;&gt;</span> unit</code></dt><dd><p>Change the owner uid and owner gid of an opened file.</p></dd></dl><dl><dt class="spec value" id="val-umask"><a href="#val-umask" class="anchor"></a><code><span class="keyword">val</span> umask : int <span>&#45;&gt;</span> int</code></dt><dd><p>Set the process's file mode creation mask, and return the previous mask.</p></dd></dl><dl><dt class="spec value" id="val-access"><a href="#val-access" class="anchor"></a><code><span class="keyword">val</span> access : string <span>&#45;&gt;</span> <span>perm:<span><a href="index.html#type-access_permission">access_permission</a> list</span></span> <span>&#45;&gt;</span> unit</code></dt><dd><p>Check that the process has the given permissions over the named file. Raise <code>Unix_error</code> otherwise.</p></dd></dl></section><section><header><h2 id="operations-on-file-descriptors"><a href="#operations-on-file-descriptors" class="anchor"></a>Operations on file descriptors</h2></header><dl><dt class="spec value" id="val-dup"><a href="#val-dup" class="anchor"></a><code><span class="keyword">val</span> dup : <span>?&#8288;cloexec:bool</span> <span>&#45;&gt;</span> <a href="index.html#type-file_descr">file_descr</a> <span>&#45;&gt;</span> <a href="index.html#type-file_descr">file_descr</a></code></dt><dd><p>Return a new file descriptor referencing the same file as the given descriptor.</p></dd></dl><dl><dt class="spec value" id="val-dup2"><a href="#val-dup2" class="anchor"></a><code><span class="keyword">val</span> dup2 : <span>?&#8288;cloexec:bool</span> <span>&#45;&gt;</span> <span>src:<a href="index.html#type-file_descr">file_descr</a></span> <span>&#45;&gt;</span> <span>dst:<a href="index.html#type-file_descr">file_descr</a></span> <span>&#45;&gt;</span> unit</code></dt><dd><p><code>dup2 fd1 fd2</code> duplicates <code>fd1</code> to <code>fd2</code>, closing <code>fd2</code> if already opened.</p></dd></dl><dl><dt class="spec value" id="val-set_nonblock"><a href="#val-set_nonblock" class="anchor"></a><code><span class="keyword">val</span> set_nonblock : <a href="index.html#type-file_descr">file_descr</a> <span>&#45;&gt;</span> unit</code></dt><dd><p>Set the ``non-blocking'' flag on the given descriptor. When the non-blocking flag is set, reading on a descriptor on which there is temporarily no data available raises the <code>EAGAIN</code> or <code>EWOULDBLOCK</code> error instead of blocking; writing on a descriptor on which there is temporarily no room for writing also raises <code>EAGAIN</code> or <code>EWOULDBLOCK</code>.</p></dd></dl><dl><dt class="spec value" id="val-clear_nonblock"><a href="#val-clear_nonblock" class="anchor"></a><code><span class="keyword">val</span> clear_nonblock : <a href="index.html#type-file_descr">file_descr</a> <span>&#45;&gt;</span> unit</code></dt><dd><p>Clear the ``non-blocking'' flag on the given descriptor. See <a href="index.html#val-set_nonblock"><code>UnixLabels.set_nonblock</code></a>.</p></dd></dl><dl><dt class="spec value" id="val-set_close_on_exec"><a href="#val-set_close_on_exec" class="anchor"></a><code><span class="keyword">val</span> set_close_on_exec : <a href="index.html#type-file_descr">file_descr</a> <span>&#45;&gt;</span> unit</code></dt><dd><p>Set the ``close-on-exec'' flag on the given descriptor. A descriptor with the close-on-exec flag is automatically closed when the current process starts another program with one of the <code>exec</code> functions.</p></dd></dl><dl><dt class="spec value" id="val-clear_close_on_exec"><a href="#val-clear_close_on_exec" class="anchor"></a><code><span class="keyword">val</span> clear_close_on_exec : <a href="index.html#type-file_descr">file_descr</a> <span>&#45;&gt;</span> unit</code></dt><dd><p>Clear the ``close-on-exec'' flag on the given descriptor. See <a href="index.html#val-set_close_on_exec"><code>UnixLabels.set_close_on_exec</code></a>.</p></dd></dl></section><section><header><h2 id="directories"><a href="#directories" class="anchor"></a>Directories</h2></header><dl><dt class="spec value" id="val-mkdir"><a href="#val-mkdir" class="anchor"></a><code><span class="keyword">val</span> mkdir : string <span>&#45;&gt;</span> <span>perm:<a href="index.html#type-file_perm">file_perm</a></span> <span>&#45;&gt;</span> unit</code></dt><dd><p>Create a directory with the given permissions.</p></dd></dl><dl><dt class="spec value" id="val-rmdir"><a href="#val-rmdir" class="anchor"></a><code><span class="keyword">val</span> rmdir : string <span>&#45;&gt;</span> unit</code></dt><dd><p>Remove an empty directory.</p></dd></dl><dl><dt class="spec value" id="val-chdir"><a href="#val-chdir" class="anchor"></a><code><span class="keyword">val</span> chdir : string <span>&#45;&gt;</span> unit</code></dt><dd><p>Change the process working directory.</p></dd></dl><dl><dt class="spec value" id="val-getcwd"><a href="#val-getcwd" class="anchor"></a><code><span class="keyword">val</span> getcwd : unit <span>&#45;&gt;</span> string</code></dt><dd><p>Return the name of the current working directory.</p></dd></dl><dl><dt class="spec value" id="val-chroot"><a href="#val-chroot" class="anchor"></a><code><span class="keyword">val</span> chroot : string <span>&#45;&gt;</span> unit</code></dt><dd><p>Change the process root directory.</p></dd></dl><dl><dt class="spec type" id="type-dir_handle"><a href="#type-dir_handle" class="anchor"></a><code><span class="keyword">type</span> dir_handle</code><code> = <a href="../Unix/index.html#type-dir_handle">Unix.dir_handle</a></code></dt><dd><p>The type of descriptors over opened directories.</p></dd></dl><dl><dt class="spec value" id="val-opendir"><a href="#val-opendir" class="anchor"></a><code><span class="keyword">val</span> opendir : string <span>&#45;&gt;</span> <a href="index.html#type-dir_handle">dir_handle</a></code></dt><dd><p>Open a descriptor on a directory</p></dd></dl><dl><dt class="spec value" id="val-readdir"><a href="#val-readdir" class="anchor"></a><code><span class="keyword">val</span> readdir : <a href="index.html#type-dir_handle">dir_handle</a> <span>&#45;&gt;</span> string</code></dt><dd><p>Return the next entry in a directory.</p><dl><dt>raises End_of_file</dt><dd><p>when the end of the directory has been reached.</p></dd></dl></dd></dl><dl><dt class="spec value" id="val-rewinddir"><a href="#val-rewinddir" class="anchor"></a><code><span class="keyword">val</span> rewinddir : <a href="index.html#type-dir_handle">dir_handle</a> <span>&#45;&gt;</span> unit</code></dt><dd><p>Reposition the descriptor to the beginning of the directory</p></dd></dl><dl><dt class="spec value" id="val-closedir"><a href="#val-closedir" class="anchor"></a><code><span class="keyword">val</span> closedir : <a href="index.html#type-dir_handle">dir_handle</a> <span>&#45;&gt;</span> unit</code></dt><dd><p>Close a directory descriptor.</p></dd></dl></section><section><header><h2 id="pipes-and-redirections"><a href="#pipes-and-redirections" class="anchor"></a>Pipes and redirections</h2></header><dl><dt class="spec value" id="val-pipe"><a href="#val-pipe" class="anchor"></a><code><span class="keyword">val</span> pipe : <span>?&#8288;cloexec:bool</span> <span>&#45;&gt;</span> unit <span>&#45;&gt;</span> <a href="index.html#type-file_descr">file_descr</a> * <a href="index.html#type-file_descr">file_descr</a></code></dt><dd><p>Create a pipe. The first component of the result is opened for reading, that's the exit to the pipe. The second component is opened for writing, that's the entrance to the pipe.</p></dd></dl><dl><dt class="spec value" id="val-mkfifo"><a href="#val-mkfifo" class="anchor"></a><code><span class="keyword">val</span> mkfifo : string <span>&#45;&gt;</span> <span>perm:<a href="index.html#type-file_perm">file_perm</a></span> <span>&#45;&gt;</span> unit</code></dt><dd><p>Create a named pipe with the given permissions.</p></dd></dl></section><section><header><h2 id="high-level-process-and-redirection-management"><a href="#high-level-process-and-redirection-management" class="anchor"></a>High-level process and redirection management</h2></header><dl><dt class="spec value" id="val-create_process"><a href="#val-create_process" class="anchor"></a><code><span class="keyword">val</span> create_process : <span>prog:string</span> <span>&#45;&gt;</span> <span>args:<span>string array</span></span> <span>&#45;&gt;</span> <span>stdin:<a href="index.html#type-file_descr">file_descr</a></span> <span>&#45;&gt;</span> <span>stdout:<a href="index.html#type-file_descr">file_descr</a></span> <span>&#45;&gt;</span> <span>stderr:<a href="index.html#type-file_descr">file_descr</a></span> <span>&#45;&gt;</span> int</code></dt><dd><p><code>create_process prog args new_stdin new_stdout new_stderr</code> forks a new process that executes the program in file <code>prog</code>, with arguments <code>args</code>. The pid of the new process is returned immediately; the new process executes concurrently with the current process. The standard input and outputs of the new process are connected to the descriptors <code>new_stdin</code>, <code>new_stdout</code> and <code>new_stderr</code>. Passing e.g. <code>stdout</code> for <code>new_stdout</code> prevents the redirection and causes the new process to have the same standard output as the current process. The executable file <code>prog</code> is searched in the path. The new process has the same environment as the current process.</p></dd></dl><dl><dt class="spec value" id="val-create_process_env"><a href="#val-create_process_env" class="anchor"></a><code><span class="keyword">val</span> create_process_env : <span>prog:string</span> <span>&#45;&gt;</span> <span>args:<span>string array</span></span> <span>&#45;&gt;</span> <span>env:<span>string array</span></span> <span>&#45;&gt;</span> <span>stdin:<a href="index.html#type-file_descr">file_descr</a></span> <span>&#45;&gt;</span> <span>stdout:<a href="index.html#type-file_descr">file_descr</a></span> <span>&#45;&gt;</span> <span>stderr:<a href="index.html#type-file_descr">file_descr</a></span> <span>&#45;&gt;</span> int</code></dt><dd><p><code>create_process_env prog args env new_stdin new_stdout new_stderr</code> works as <a href="index.html#val-create_process"><code>UnixLabels.create_process</code></a>, except that the extra argument <code>env</code> specifies the environment passed to the program.</p></dd></dl><dl><dt class="spec value" id="val-open_process_in"><a href="#val-open_process_in" class="anchor"></a><code><span class="keyword">val</span> open_process_in : string <span>&#45;&gt;</span> <a href="../Stdlib/index.html#type-in_channel">Stdlib.in_channel</a></code></dt><dd><p>High-level pipe and process management. This function runs the given command in parallel with the program. The standard output of the command is redirected to a pipe, which can be read via the returned input channel. The command is interpreted by the shell <code>/bin/sh</code> (cf. <code>system</code>).</p></dd></dl><dl><dt class="spec value" id="val-open_process_out"><a href="#val-open_process_out" class="anchor"></a><code><span class="keyword">val</span> open_process_out : string <span>&#45;&gt;</span> <a href="../Stdlib/index.html#type-out_channel">Stdlib.out_channel</a></code></dt><dd><p>Same as <a href="index.html#val-open_process_in"><code>UnixLabels.open_process_in</code></a>, but redirect the standard input of the command to a pipe. Data written to the returned output channel is sent to the standard input of the command. Warning: writes on output channels are buffered, hence be careful to call <a href="../Stdlib/index.html#val-flush"><code>Stdlib.flush</code></a> at the right times to ensure correct synchronization.</p></dd></dl><dl><dt class="spec value" id="val-open_process"><a href="#val-open_process" class="anchor"></a><code><span class="keyword">val</span> open_process : string <span>&#45;&gt;</span> <a href="../Stdlib/index.html#type-in_channel">Stdlib.in_channel</a> * <a href="../Stdlib/index.html#type-out_channel">Stdlib.out_channel</a></code></dt><dd><p>Same as <a href="index.html#val-open_process_out"><code>UnixLabels.open_process_out</code></a>, but redirects both the standard input and standard output of the command to pipes connected to the two returned channels. The input channel is connected to the output of the command, and the output channel to the input of the command.</p></dd></dl><dl><dt class="spec value" id="val-open_process_full"><a href="#val-open_process_full" class="anchor"></a><code><span class="keyword">val</span> open_process_full : string <span>&#45;&gt;</span> <span>env:<span>string array</span></span> <span>&#45;&gt;</span> <a href="../Stdlib/index.html#type-in_channel">Stdlib.in_channel</a> * <a href="../Stdlib/index.html#type-out_channel">Stdlib.out_channel</a> * <a href="../Stdlib/index.html#type-in_channel">Stdlib.in_channel</a></code></dt><dd><p>Similar to <a href="index.html#val-open_process"><code>UnixLabels.open_process</code></a>, but the second argument specifies the environment passed to the command. The result is a triple of channels connected respectively to the standard output, standard input, and standard error of the command.</p></dd></dl><dl><dt class="spec value" id="val-open_process_args_in"><a href="#val-open_process_args_in" class="anchor"></a><code><span class="keyword">val</span> open_process_args_in : string <span>&#45;&gt;</span> <span>string array</span> <span>&#45;&gt;</span> <a href="../Stdlib/index.html#type-in_channel">Stdlib.in_channel</a></code></dt><dd><p>High-level pipe and process management. The first argument specifies the command to run, and the second argument specifies the argument array passed to the command. This function runs the command in parallel with the program. The standard output of the command is redirected to a pipe, which can be read via the returned input channel.</p><dl><dt>since</dt><dd>4.08.0</dd></dl></dd></dl><dl><dt class="spec value" id="val-open_process_args_out"><a href="#val-open_process_args_out" class="anchor"></a><code><span class="keyword">val</span> open_process_args_out : string <span>&#45;&gt;</span> <span>string array</span> <span>&#45;&gt;</span> <a href="../Stdlib/index.html#type-out_channel">Stdlib.out_channel</a></code></dt><dd><p>Same as <a href="../Unix/index.html#val-open_process_args_in"><code>Unix.open_process_args_in</code></a>, but redirect the standard input of the command to a pipe. Data written to the returned output channel is sent to the standard input of the command. Warning: writes on output channels are buffered, hence be careful to call <a href="../Stdlib/index.html#val-flush"><code>Stdlib.flush</code></a> at the right times to ensure correct synchronization.</p><dl><dt>since</dt><dd>4.08.0</dd></dl></dd></dl><dl><dt class="spec value" id="val-open_process_args"><a href="#val-open_process_args" class="anchor"></a><code><span class="keyword">val</span> open_process_args : string <span>&#45;&gt;</span> <span>string array</span> <span>&#45;&gt;</span> <a href="../Stdlib/index.html#type-in_channel">Stdlib.in_channel</a> * <a href="../Stdlib/index.html#type-out_channel">Stdlib.out_channel</a></code></dt><dd><p>Same as <a href="../Unix/index.html#val-open_process_args_out"><code>Unix.open_process_args_out</code></a>, but redirects both the standard input and standard output of the command to pipes connected to the two returned channels. The input channel is connected to the output of the command, and the output channel to the input of the command.</p><dl><dt>since</dt><dd>4.08.0</dd></dl></dd></dl><dl><dt class="spec value" id="val-open_process_args_full"><a href="#val-open_process_args_full" class="anchor"></a><code><span class="keyword">val</span> open_process_args_full : string <span>&#45;&gt;</span> <span>string array</span> <span>&#45;&gt;</span> <span>string array</span> <span>&#45;&gt;</span> <a href="../Stdlib/index.html#type-in_channel">Stdlib.in_channel</a> * <a href="../Stdlib/index.html#type-out_channel">Stdlib.out_channel</a> * <a href="../Stdlib/index.html#type-in_channel">Stdlib.in_channel</a></code></dt><dd><p>Similar to <a href="../Unix/index.html#val-open_process_args"><code>Unix.open_process_args</code></a>, but the third argument specifies the environment passed to the command. The result is a triple of channels connected respectively to the standard output, standard input, and standard error of the command.</p><dl><dt>since</dt><dd>4.08.0</dd></dl></dd></dl><dl><dt class="spec value" id="val-close_process_in"><a href="#val-close_process_in" class="anchor"></a><code><span class="keyword">val</span> close_process_in : <a href="../Stdlib/index.html#type-in_channel">Stdlib.in_channel</a> <span>&#45;&gt;</span> <a href="index.html#type-process_status">process_status</a></code></dt><dd><p>Close channels opened by <a href="index.html#val-open_process_in"><code>UnixLabels.open_process_in</code></a>, wait for the associated command to terminate, and return its termination status.</p></dd></dl><dl><dt class="spec value" id="val-close_process_out"><a href="#val-close_process_out" class="anchor"></a><code><span class="keyword">val</span> close_process_out : <a href="../Stdlib/index.html#type-out_channel">Stdlib.out_channel</a> <span>&#45;&gt;</span> <a href="index.html#type-process_status">process_status</a></code></dt><dd><p>Close channels opened by <a href="index.html#val-open_process_out"><code>UnixLabels.open_process_out</code></a>, wait for the associated command to terminate, and return its termination status.</p></dd></dl><dl><dt class="spec value" id="val-close_process"><a href="#val-close_process" class="anchor"></a><code><span class="keyword">val</span> close_process : <span>(<a href="../Stdlib/index.html#type-in_channel">Stdlib.in_channel</a> * <a href="../Stdlib/index.html#type-out_channel">Stdlib.out_channel</a>)</span> <span>&#45;&gt;</span> <a href="index.html#type-process_status">process_status</a></code></dt><dd><p>Close channels opened by <a href="index.html#val-open_process"><code>UnixLabels.open_process</code></a>, wait for the associated command to terminate, and return its termination status.</p></dd></dl><dl><dt class="spec value" id="val-close_process_full"><a href="#val-close_process_full" class="anchor"></a><code><span class="keyword">val</span> close_process_full : <span>(<a href="../Stdlib/index.html#type-in_channel">Stdlib.in_channel</a> * <a href="../Stdlib/index.html#type-out_channel">Stdlib.out_channel</a> * <a href="../Stdlib/index.html#type-in_channel">Stdlib.in_channel</a>)</span> <span>&#45;&gt;</span> <a href="index.html#type-process_status">process_status</a></code></dt><dd><p>Close channels opened by <a href="index.html#val-open_process_full"><code>UnixLabels.open_process_full</code></a>, wait for the associated command to terminate, and return its termination status.</p></dd></dl></section><section><header><h2 id="symbolic-links"><a href="#symbolic-links" class="anchor"></a>Symbolic links</h2></header><dl><dt class="spec value" id="val-symlink"><a href="#val-symlink" class="anchor"></a><code><span class="keyword">val</span> symlink : <span>?&#8288;to_dir:bool</span> <span>&#45;&gt;</span> <span>src:string</span> <span>&#45;&gt;</span> <span>dst:string</span> <span>&#45;&gt;</span> unit</code></dt><dd><p><code>symlink source dest</code> creates the file <code>dest</code> as a symbolic link to the file <code>source</code>. See <a href="../Unix/index.html#val-symlink"><code>Unix.symlink</code></a> for details of <code>~to_dir</code></p></dd></dl><dl><dt class="spec value" id="val-has_symlink"><a href="#val-has_symlink" class="anchor"></a><code><span class="keyword">val</span> has_symlink : unit <span>&#45;&gt;</span> bool</code></dt><dd><p>Returns <code>true</code> if the user is able to create symbolic links. On Windows, this indicates that the user not only has the SeCreateSymbolicLinkPrivilege but is also running elevated, if necessary. On other platforms, this is simply indicates that the symlink system call is available.</p><dl><dt>since</dt><dd>4.03.0</dd></dl></dd></dl><dl><dt class="spec value" id="val-readlink"><a href="#val-readlink" class="anchor"></a><code><span class="keyword">val</span> readlink : string <span>&#45;&gt;</span> string</code></dt><dd><p>Read the contents of a link.</p></dd></dl></section><section><header><h2 id="polling"><a href="#polling" class="anchor"></a>Polling</h2></header><dl><dt class="spec value" id="val-select"><a href="#val-select" class="anchor"></a><code><span class="keyword">val</span> select : <span>read:<span><a href="index.html#type-file_descr">file_descr</a> list</span></span> <span>&#45;&gt;</span> <span>write:<span><a href="index.html#type-file_descr">file_descr</a> list</span></span> <span>&#45;&gt;</span> <span>except:<span><a href="index.html#type-file_descr">file_descr</a> list</span></span> <span>&#45;&gt;</span> <span>timeout:float</span> <span>&#45;&gt;</span> <span><a href="index.html#type-file_descr">file_descr</a> list</span> * <span><a href="index.html#type-file_descr">file_descr</a> list</span> * <span><a href="index.html#type-file_descr">file_descr</a> list</span></code></dt><dd><p>Wait until some input/output operations become possible on some channels. The three list arguments are, respectively, a set of descriptors to check for reading (first argument), for writing (second argument), or for exceptional conditions (third argument). The fourth argument is the maximal timeout, in seconds; a negative fourth argument means no timeout (unbounded wait). The result is composed of three sets of descriptors: those ready for reading (first component), ready for writing (second component), and over which an exceptional condition is pending (third component).</p></dd></dl></section><section><header><h2 id="locking"><a href="#locking" class="anchor"></a>Locking</h2></header><dl><dt class="spec type" id="type-lock_command"><a href="#type-lock_command" class="anchor"></a><code><span class="keyword">type</span> lock_command</code><code> = <a href="../Unix/index.html#type-lock_command">Unix.lock_command</a></code><code> = </code><table class="variant"><tr id="type-lock_command.F_ULOCK" class="anchored"><td class="def constructor"><a href="#type-lock_command.F_ULOCK" class="anchor"></a><code>| </code><code><span class="constructor">F_ULOCK</span></code></td><td class="doc"><p>Unlock a region</p></td></tr><tr id="type-lock_command.F_LOCK" class="anchored"><td class="def constructor"><a href="#type-lock_command.F_LOCK" class="anchor"></a><code>| </code><code><span class="constructor">F_LOCK</span></code></td><td class="doc"><p>Lock a region for writing, and block if already locked</p></td></tr><tr id="type-lock_command.F_TLOCK" class="anchored"><td class="def constructor"><a href="#type-lock_command.F_TLOCK" class="anchor"></a><code>| </code><code><span class="constructor">F_TLOCK</span></code></td><td class="doc"><p>Lock a region for writing, or fail if already locked</p></td></tr><tr id="type-lock_command.F_TEST" class="anchored"><td class="def constructor"><a href="#type-lock_command.F_TEST" class="anchor"></a><code>| </code><code><span class="constructor">F_TEST</span></code></td><td class="doc"><p>Test a region for other process locks</p></td></tr><tr id="type-lock_command.F_RLOCK" class="anchored"><td class="def constructor"><a href="#type-lock_command.F_RLOCK" class="anchor"></a><code>| </code><code><span class="constructor">F_RLOCK</span></code></td><td class="doc"><p>Lock a region for reading, and block if already locked</p></td></tr><tr id="type-lock_command.F_TRLOCK" class="anchored"><td class="def constructor"><a href="#type-lock_command.F_TRLOCK" class="anchor"></a><code>| </code><code><span class="constructor">F_TRLOCK</span></code></td><td class="doc"><p>Lock a region for reading, or fail if already locked</p></td></tr></table></dt><dd><p>Commands for <a href="index.html#val-lockf"><code>UnixLabels.lockf</code></a>.</p></dd></dl><dl><dt class="spec value" id="val-lockf"><a href="#val-lockf" class="anchor"></a><code><span class="keyword">val</span> lockf : <a href="index.html#type-file_descr">file_descr</a> <span>&#45;&gt;</span> <span>mode:<a href="index.html#type-lock_command">lock_command</a></span> <span>&#45;&gt;</span> <span>len:int</span> <span>&#45;&gt;</span> unit</code></dt><dd><p><code>lockf fd cmd size</code> puts a lock on a region of the file opened as <code>fd</code>. The region starts at the current read/write position for <code>fd</code> (as set by <a href="index.html#val-lseek"><code>UnixLabels.lseek</code></a>), and extends <code>size</code> bytes forward if <code>size</code> is positive, <code>size</code> bytes backwards if <code>size</code> is negative, or to the end of the file if <code>size</code> is zero. A write lock prevents any other process from acquiring a read or write lock on the region. A read lock prevents any other process from acquiring a write lock on the region, but lets other processes acquire read locks on it.</p><p>The <code>F_LOCK</code> and <code>F_TLOCK</code> commands attempts to put a write lock on the specified region. The <code>F_RLOCK</code> and <code>F_TRLOCK</code> commands attempts to put a read lock on the specified region. If one or several locks put by another process prevent the current process from acquiring the lock, <code>F_LOCK</code> and <code>F_RLOCK</code> block until these locks are removed, while <code>F_TLOCK</code> and <code>F_TRLOCK</code> fail immediately with an exception. The <code>F_ULOCK</code> removes whatever locks the current process has on the specified region. Finally, the <code>F_TEST</code> command tests whether a write lock can be acquired on the specified region, without actually putting a lock. It returns immediately if successful, or fails otherwise.</p></dd></dl></section><section><header><h2 id="signals"><a href="#signals" class="anchor"></a>Signals</h2><p>Note: installation of signal handlers is performed via the functions <span class="xref-unresolved" title="unresolved reference to &quot;Sys.signal&quot;"><code>Sys</code>.signal</span> and <span class="xref-unresolved" title="unresolved reference to &quot;Sys.set_signal&quot;"><code>Sys</code>.set_signal</span>.</p></header><dl><dt class="spec value" id="val-kill"><a href="#val-kill" class="anchor"></a><code><span class="keyword">val</span> kill : <span>pid:int</span> <span>&#45;&gt;</span> <span>signal:int</span> <span>&#45;&gt;</span> unit</code></dt><dd><p><code>kill pid sig</code> sends signal number <code>sig</code> to the process with id <code>pid</code>.</p></dd></dl><dl><dt class="spec type" id="type-sigprocmask_command"><a href="#type-sigprocmask_command" class="anchor"></a><code><span class="keyword">type</span> sigprocmask_command</code><code> = <a href="../Unix/index.html#type-sigprocmask_command">Unix.sigprocmask_command</a></code><code> = </code><table class="variant"><tr id="type-sigprocmask_command.SIG_SETMASK" class="anchored"><td class="def constructor"><a href="#type-sigprocmask_command.SIG_SETMASK" class="anchor"></a><code>| </code><code><span class="constructor">SIG_SETMASK</span></code></td></tr><tr id="type-sigprocmask_command.SIG_BLOCK" class="anchored"><td class="def constructor"><a href="#type-sigprocmask_command.SIG_BLOCK" class="anchor"></a><code>| </code><code><span class="constructor">SIG_BLOCK</span></code></td></tr><tr id="type-sigprocmask_command.SIG_UNBLOCK" class="anchored"><td class="def constructor"><a href="#type-sigprocmask_command.SIG_UNBLOCK" class="anchor"></a><code>| </code><code><span class="constructor">SIG_UNBLOCK</span></code></td></tr></table></dt></dl><dl><dt class="spec value" id="val-sigprocmask"><a href="#val-sigprocmask" class="anchor"></a><code><span class="keyword">val</span> sigprocmask : <span>mode:<a href="index.html#type-sigprocmask_command">sigprocmask_command</a></span> <span>&#45;&gt;</span> <span>int list</span> <span>&#45;&gt;</span> <span>int list</span></code></dt><dd><p><code>sigprocmask cmd sigs</code> changes the set of blocked signals. If <code>cmd</code> is <code>SIG_SETMASK</code>, blocked signals are set to those in the list <code>sigs</code>. If <code>cmd</code> is <code>SIG_BLOCK</code>, the signals in <code>sigs</code> are added to the set of blocked signals. If <code>cmd</code> is <code>SIG_UNBLOCK</code>, the signals in <code>sigs</code> are removed from the set of blocked signals. <code>sigprocmask</code> returns the set of previously blocked signals.</p></dd></dl><dl><dt class="spec value" id="val-sigpending"><a href="#val-sigpending" class="anchor"></a><code><span class="keyword">val</span> sigpending : unit <span>&#45;&gt;</span> <span>int list</span></code></dt><dd><p>Return the set of blocked signals that are currently pending.</p></dd></dl><dl><dt class="spec value" id="val-sigsuspend"><a href="#val-sigsuspend" class="anchor"></a><code><span class="keyword">val</span> sigsuspend : <span>int list</span> <span>&#45;&gt;</span> unit</code></dt><dd><p><code>sigsuspend sigs</code> atomically sets the blocked signals to <code>sigs</code> and waits for a non-ignored, non-blocked signal to be delivered. On return, the blocked signals are reset to their initial value.</p></dd></dl><dl><dt class="spec value" id="val-pause"><a href="#val-pause" class="anchor"></a><code><span class="keyword">val</span> pause : unit <span>&#45;&gt;</span> unit</code></dt><dd><p>Wait until a non-ignored, non-blocked signal is delivered.</p></dd></dl></section><section><header><h2 id="time-functions"><a href="#time-functions" class="anchor"></a>Time functions</h2></header><dl><dt class="spec type" id="type-process_times"><a href="#type-process_times" class="anchor"></a><code><span class="keyword">type</span> process_times</code><code> = <a href="../Unix/index.html#type-process_times">Unix.process_times</a></code><code> = </code><code>{</code><table class="record"><tr id="type-process_times.tms_utime" class="anchored"><td class="def field"><a href="#type-process_times.tms_utime" class="anchor"></a><code>tms_utime : float;</code></td><td class="doc"><p>User time for the process</p></td></tr><tr id="type-process_times.tms_stime" class="anchored"><td class="def field"><a href="#type-process_times.tms_stime" class="anchor"></a><code>tms_stime : float;</code></td><td class="doc"><p>System time for the process</p></td></tr><tr id="type-process_times.tms_cutime" class="anchored"><td class="def field"><a href="#type-process_times.tms_cutime" class="anchor"></a><code>tms_cutime : float;</code></td><td class="doc"><p>User time for the children processes</p></td></tr><tr id="type-process_times.tms_cstime" class="anchored"><td class="def field"><a href="#type-process_times.tms_cstime" class="anchor"></a><code>tms_cstime : float;</code></td><td class="doc"><p>System time for the children processes</p></td></tr></table><code>}</code></dt><dd><p>The execution times (CPU times) of a process.</p></dd></dl><dl><dt class="spec type" id="type-tm"><a href="#type-tm" class="anchor"></a><code><span class="keyword">type</span> tm</code><code> = <a href="../Unix/index.html#type-tm">Unix.tm</a></code><code> = </code><code>{</code><table class="record"><tr id="type-tm.tm_sec" class="anchored"><td class="def field"><a href="#type-tm.tm_sec" class="anchor"></a><code>tm_sec : int;</code></td><td class="doc"><p>Seconds 0..60</p></td></tr><tr id="type-tm.tm_min" class="anchored"><td class="def field"><a href="#type-tm.tm_min" class="anchor"></a><code>tm_min : int;</code></td><td class="doc"><p>Minutes 0..59</p></td></tr><tr id="type-tm.tm_hour" class="anchored"><td class="def field"><a href="#type-tm.tm_hour" class="anchor"></a><code>tm_hour : int;</code></td><td class="doc"><p>Hours 0..23</p></td></tr><tr id="type-tm.tm_mday" class="anchored"><td class="def field"><a href="#type-tm.tm_mday" class="anchor"></a><code>tm_mday : int;</code></td><td class="doc"><p>Day of month 1..31</p></td></tr><tr id="type-tm.tm_mon" class="anchored"><td class="def field"><a href="#type-tm.tm_mon" class="anchor"></a><code>tm_mon : int;</code></td><td class="doc"><p>Month of year 0..11</p></td></tr><tr id="type-tm.tm_year" class="anchored"><td class="def field"><a href="#type-tm.tm_year" class="anchor"></a><code>tm_year : int;</code></td><td class="doc"><p>Year - 1900</p></td></tr><tr id="type-tm.tm_wday" class="anchored"><td class="def field"><a href="#type-tm.tm_wday" class="anchor"></a><code>tm_wday : int;</code></td><td class="doc"><p>Day of week (Sunday is 0)</p></td></tr><tr id="type-tm.tm_yday" class="anchored"><td class="def field"><a href="#type-tm.tm_yday" class="anchor"></a><code>tm_yday : int;</code></td><td class="doc"><p>Day of year 0..365</p></td></tr><tr id="type-tm.tm_isdst" class="anchored"><td class="def field"><a href="#type-tm.tm_isdst" class="anchor"></a><code>tm_isdst : bool;</code></td><td class="doc"><p>Daylight time savings in effect</p></td></tr></table><code>}</code></dt><dd><p>The type representing wallclock time and calendar date.</p></dd></dl><dl><dt class="spec value" id="val-time"><a href="#val-time" class="anchor"></a><code><span class="keyword">val</span> time : unit <span>&#45;&gt;</span> float</code></dt><dd><p>Return the current time since 00:00:00 GMT, Jan. 1, 1970, in seconds.</p></dd></dl><dl><dt class="spec value" id="val-gettimeofday"><a href="#val-gettimeofday" class="anchor"></a><code><span class="keyword">val</span> gettimeofday : unit <span>&#45;&gt;</span> float</code></dt><dd><p>Same as <a href="index.html#val-time"><code>UnixLabels.time</code></a>, but with resolution better than 1 second.</p></dd></dl><dl><dt class="spec value" id="val-gmtime"><a href="#val-gmtime" class="anchor"></a><code><span class="keyword">val</span> gmtime : float <span>&#45;&gt;</span> <a href="index.html#type-tm">tm</a></code></dt><dd><p>Convert a time in seconds, as returned by <a href="index.html#val-time"><code>UnixLabels.time</code></a>, into a date and a time. Assumes UTC (Coordinated Universal Time), also known as GMT.</p></dd></dl><dl><dt class="spec value" id="val-localtime"><a href="#val-localtime" class="anchor"></a><code><span class="keyword">val</span> localtime : float <span>&#45;&gt;</span> <a href="index.html#type-tm">tm</a></code></dt><dd><p>Convert a time in seconds, as returned by <a href="index.html#val-time"><code>UnixLabels.time</code></a>, into a date and a time. Assumes the local time zone.</p></dd></dl><dl><dt class="spec value" id="val-mktime"><a href="#val-mktime" class="anchor"></a><code><span class="keyword">val</span> mktime : <a href="index.html#type-tm">tm</a> <span>&#45;&gt;</span> float * <a href="index.html#type-tm">tm</a></code></dt><dd><p>Convert a date and time, specified by the <code>tm</code> argument, into a time in seconds, as returned by <a href="index.html#val-time"><code>UnixLabels.time</code></a>. The <code>tm_isdst</code>, <code>tm_wday</code> and <code>tm_yday</code> fields of <code>tm</code> are ignored. Also return a normalized copy of the given <code>tm</code> record, with the <code>tm_wday</code>, <code>tm_yday</code>, and <code>tm_isdst</code> fields recomputed from the other fields, and the other fields normalized (so that, e.g., 40 October is changed into 9 November). The <code>tm</code> argument is interpreted in the local time zone.</p></dd></dl><dl><dt class="spec value" id="val-alarm"><a href="#val-alarm" class="anchor"></a><code><span class="keyword">val</span> alarm : int <span>&#45;&gt;</span> int</code></dt><dd><p>Schedule a <code>SIGALRM</code> signal after the given number of seconds.</p></dd></dl><dl><dt class="spec value" id="val-sleep"><a href="#val-sleep" class="anchor"></a><code><span class="keyword">val</span> sleep : int <span>&#45;&gt;</span> unit</code></dt><dd><p>Stop execution for the given number of seconds.</p></dd></dl><dl><dt class="spec value" id="val-times"><a href="#val-times" class="anchor"></a><code><span class="keyword">val</span> times : unit <span>&#45;&gt;</span> <a href="index.html#type-process_times">process_times</a></code></dt><dd><p>Return the execution times of the process.</p></dd></dl><dl><dt class="spec value" id="val-utimes"><a href="#val-utimes" class="anchor"></a><code><span class="keyword">val</span> utimes : string <span>&#45;&gt;</span> <span>access:float</span> <span>&#45;&gt;</span> <span>modif:float</span> <span>&#45;&gt;</span> unit</code></dt><dd><p>Set the last access time (second arg) and last modification time (third arg) for a file. Times are expressed in seconds from 00:00:00 GMT, Jan. 1, 1970. A time of <code>0.0</code> is interpreted as the current time.</p></dd></dl><dl><dt class="spec type" id="type-interval_timer"><a href="#type-interval_timer" class="anchor"></a><code><span class="keyword">type</span> interval_timer</code><code> = <a href="../Unix/index.html#type-interval_timer">Unix.interval_timer</a></code><code> = </code><table class="variant"><tr id="type-interval_timer.ITIMER_REAL" class="anchored"><td class="def constructor"><a href="#type-interval_timer.ITIMER_REAL" class="anchor"></a><code>| </code><code><span class="constructor">ITIMER_REAL</span></code></td><td class="doc"><p>decrements in real time, and sends the signal <code>SIGALRM</code> when expired.</p></td></tr><tr id="type-interval_timer.ITIMER_VIRTUAL" class="anchored"><td class="def constructor"><a href="#type-interval_timer.ITIMER_VIRTUAL" class="anchor"></a><code>| </code><code><span class="constructor">ITIMER_VIRTUAL</span></code></td><td class="doc"><p>decrements in process virtual time, and sends <code>SIGVTALRM</code> when expired.</p></td></tr><tr id="type-interval_timer.ITIMER_PROF" class="anchored"><td class="def constructor"><a href="#type-interval_timer.ITIMER_PROF" class="anchor"></a><code>| </code><code><span class="constructor">ITIMER_PROF</span></code></td><td class="doc"><p>(for profiling) decrements both when the process is running and when the system is running on behalf of the process; it sends <code>SIGPROF</code> when expired.</p></td></tr></table></dt><dd><p>The three kinds of interval timers.</p></dd></dl><dl><dt class="spec type" id="type-interval_timer_status"><a href="#type-interval_timer_status" class="anchor"></a><code><span class="keyword">type</span> interval_timer_status</code><code> = <a href="../Unix/index.html#type-interval_timer_status">Unix.interval_timer_status</a></code><code> = </code><code>{</code><table class="record"><tr id="type-interval_timer_status.it_interval" class="anchored"><td class="def field"><a href="#type-interval_timer_status.it_interval" class="anchor"></a><code>it_interval : float;</code></td><td class="doc"><p>Period</p></td></tr><tr id="type-interval_timer_status.it_value" class="anchored"><td class="def field"><a href="#type-interval_timer_status.it_value" class="anchor"></a><code>it_value : float;</code></td><td class="doc"><p>Current value of the timer</p></td></tr></table><code>}</code></dt><dd><p>The type describing the status of an interval timer</p></dd></dl><dl><dt class="spec value" id="val-getitimer"><a href="#val-getitimer" class="anchor"></a><code><span class="keyword">val</span> getitimer : <a href="index.html#type-interval_timer">interval_timer</a> <span>&#45;&gt;</span> <a href="index.html#type-interval_timer_status">interval_timer_status</a></code></dt><dd><p>Return the current status of the given interval timer.</p></dd></dl><dl><dt class="spec value" id="val-setitimer"><a href="#val-setitimer" class="anchor"></a><code><span class="keyword">val</span> setitimer : <a href="index.html#type-interval_timer">interval_timer</a> <span>&#45;&gt;</span> <a href="index.html#type-interval_timer_status">interval_timer_status</a> <span>&#45;&gt;</span> <a href="index.html#type-interval_timer_status">interval_timer_status</a></code></dt><dd><p><code>setitimer t s</code> sets the interval timer <code>t</code> and returns its previous status. The <code>s</code> argument is interpreted as follows: <code>s.it_value</code>, if nonzero, is the time to the next timer expiration; <code>s.it_interval</code>, if nonzero, specifies a value to be used in reloading it_value when the timer expires. Setting <code>s.it_value</code> to zero disable the timer. Setting <code>s.it_interval</code> to zero causes the timer to be disabled after its next expiration.</p></dd></dl></section><section><header><h2 id="user-id,-group-id"><a href="#user-id,-group-id" class="anchor"></a>User id, group id</h2></header><dl><dt class="spec value" id="val-getuid"><a href="#val-getuid" class="anchor"></a><code><span class="keyword">val</span> getuid : unit <span>&#45;&gt;</span> int</code></dt><dd><p>Return the user id of the user executing the process.</p></dd></dl><dl><dt class="spec value" id="val-geteuid"><a href="#val-geteuid" class="anchor"></a><code><span class="keyword">val</span> geteuid : unit <span>&#45;&gt;</span> int</code></dt><dd><p>Return the effective user id under which the process runs.</p></dd></dl><dl><dt class="spec value" id="val-setuid"><a href="#val-setuid" class="anchor"></a><code><span class="keyword">val</span> setuid : int <span>&#45;&gt;</span> unit</code></dt><dd><p>Set the real user id and effective user id for the process.</p></dd></dl><dl><dt class="spec value" id="val-getgid"><a href="#val-getgid" class="anchor"></a><code><span class="keyword">val</span> getgid : unit <span>&#45;&gt;</span> int</code></dt><dd><p>Return the group id of the user executing the process.</p></dd></dl><dl><dt class="spec value" id="val-getegid"><a href="#val-getegid" class="anchor"></a><code><span class="keyword">val</span> getegid : unit <span>&#45;&gt;</span> int</code></dt><dd><p>Return the effective group id under which the process runs.</p></dd></dl><dl><dt class="spec value" id="val-setgid"><a href="#val-setgid" class="anchor"></a><code><span class="keyword">val</span> setgid : int <span>&#45;&gt;</span> unit</code></dt><dd><p>Set the real group id and effective group id for the process.</p></dd></dl><dl><dt class="spec value" id="val-getgroups"><a href="#val-getgroups" class="anchor"></a><code><span class="keyword">val</span> getgroups : unit <span>&#45;&gt;</span> <span>int array</span></code></dt><dd><p>Return the list of groups to which the user executing the process belongs.</p></dd></dl><dl><dt class="spec value" id="val-setgroups"><a href="#val-setgroups" class="anchor"></a><code><span class="keyword">val</span> setgroups : <span>int array</span> <span>&#45;&gt;</span> unit</code></dt><dd><p><code>setgroups groups</code> sets the supplementary group IDs for the calling process. Appropriate privileges are required.</p></dd></dl><dl><dt class="spec value" id="val-initgroups"><a href="#val-initgroups" class="anchor"></a><code><span class="keyword">val</span> initgroups : string <span>&#45;&gt;</span> int <span>&#45;&gt;</span> unit</code></dt><dd><p><code>initgroups user group</code> initializes the group access list by reading the group database /etc/group and using all groups of which <code>user</code> is a member. The additional group <code>group</code> is also added to the list.</p></dd></dl><dl><dt class="spec type" id="type-passwd_entry"><a href="#type-passwd_entry" class="anchor"></a><code><span class="keyword">type</span> passwd_entry</code><code> = <a href="../Unix/index.html#type-passwd_entry">Unix.passwd_entry</a></code><code> = </code><code>{</code><table class="record"><tr id="type-passwd_entry.pw_name" class="anchored"><td class="def field"><a href="#type-passwd_entry.pw_name" class="anchor"></a><code>pw_name : string;</code></td></tr><tr id="type-passwd_entry.pw_passwd" class="anchored"><td class="def field"><a href="#type-passwd_entry.pw_passwd" class="anchor"></a><code>pw_passwd : string;</code></td></tr><tr id="type-passwd_entry.pw_uid" class="anchored"><td class="def field"><a href="#type-passwd_entry.pw_uid" class="anchor"></a><code>pw_uid : int;</code></td></tr><tr id="type-passwd_entry.pw_gid" class="anchored"><td class="def field"><a href="#type-passwd_entry.pw_gid" class="anchor"></a><code>pw_gid : int;</code></td></tr><tr id="type-passwd_entry.pw_gecos" class="anchored"><td class="def field"><a href="#type-passwd_entry.pw_gecos" class="anchor"></a><code>pw_gecos : string;</code></td></tr><tr id="type-passwd_entry.pw_dir" class="anchored"><td class="def field"><a href="#type-passwd_entry.pw_dir" class="anchor"></a><code>pw_dir : string;</code></td></tr><tr id="type-passwd_entry.pw_shell" class="anchored"><td class="def field"><a href="#type-passwd_entry.pw_shell" class="anchor"></a><code>pw_shell : string;</code></td></tr></table><code>}</code></dt><dd><p>Structure of entries in the <code>passwd</code> database.</p></dd></dl><dl><dt class="spec type" id="type-group_entry"><a href="#type-group_entry" class="anchor"></a><code><span class="keyword">type</span> group_entry</code><code> = <a href="../Unix/index.html#type-group_entry">Unix.group_entry</a></code><code> = </code><code>{</code><table class="record"><tr id="type-group_entry.gr_name" class="anchored"><td class="def field"><a href="#type-group_entry.gr_name" class="anchor"></a><code>gr_name : string;</code></td></tr><tr id="type-group_entry.gr_passwd" class="anchored"><td class="def field"><a href="#type-group_entry.gr_passwd" class="anchor"></a><code>gr_passwd : string;</code></td></tr><tr id="type-group_entry.gr_gid" class="anchored"><td class="def field"><a href="#type-group_entry.gr_gid" class="anchor"></a><code>gr_gid : int;</code></td></tr><tr id="type-group_entry.gr_mem" class="anchored"><td class="def field"><a href="#type-group_entry.gr_mem" class="anchor"></a><code>gr_mem : <span>string array</span>;</code></td></tr></table><code>}</code></dt><dd><p>Structure of entries in the <code>groups</code> database.</p></dd></dl><dl><dt class="spec value" id="val-getlogin"><a href="#val-getlogin" class="anchor"></a><code><span class="keyword">val</span> getlogin : unit <span>&#45;&gt;</span> string</code></dt><dd><p>Return the login name of the user executing the process.</p></dd></dl><dl><dt class="spec value" id="val-getpwnam"><a href="#val-getpwnam" class="anchor"></a><code><span class="keyword">val</span> getpwnam : string <span>&#45;&gt;</span> <a href="index.html#type-passwd_entry">passwd_entry</a></code></dt><dd><p>Find an entry in <code>passwd</code> with the given name, or raise <code>Not_found</code> if the matching entry is not found.</p></dd></dl><dl><dt class="spec value" id="val-getgrnam"><a href="#val-getgrnam" class="anchor"></a><code><span class="keyword">val</span> getgrnam : string <span>&#45;&gt;</span> <a href="index.html#type-group_entry">group_entry</a></code></dt><dd><p>Find an entry in <code>group</code> with the given name, or raise <code>Not_found</code> if the matching entry is not found.</p></dd></dl><dl><dt class="spec value" id="val-getpwuid"><a href="#val-getpwuid" class="anchor"></a><code><span class="keyword">val</span> getpwuid : int <span>&#45;&gt;</span> <a href="index.html#type-passwd_entry">passwd_entry</a></code></dt><dd><p>Find an entry in <code>passwd</code> with the given user id, or raise <code>Not_found</code> if the matching entry is not found.</p></dd></dl><dl><dt class="spec value" id="val-getgrgid"><a href="#val-getgrgid" class="anchor"></a><code><span class="keyword">val</span> getgrgid : int <span>&#45;&gt;</span> <a href="index.html#type-group_entry">group_entry</a></code></dt><dd><p>Find an entry in <code>group</code> with the given group id, or raise <code>Not_found</code> if the matching entry is not found.</p></dd></dl></section><section><header><h2 id="internet-addresses"><a href="#internet-addresses" class="anchor"></a>Internet addresses</h2></header><dl><dt class="spec type" id="type-inet_addr"><a href="#type-inet_addr" class="anchor"></a><code><span class="keyword">type</span> inet_addr</code><code> = <a href="../Unix/index.html#type-inet_addr">Unix.inet_addr</a></code></dt><dd><p>The abstract type of Internet addresses.</p></dd></dl><dl><dt class="spec value" id="val-inet_addr_of_string"><a href="#val-inet_addr_of_string" class="anchor"></a><code><span class="keyword">val</span> inet_addr_of_string : string <span>&#45;&gt;</span> <a href="index.html#type-inet_addr">inet_addr</a></code></dt><dd><p>Conversion from the printable representation of an Internet address to its internal representation. The argument string consists of 4 numbers separated by periods (<code>XXX.YYY.ZZZ.TTT</code>) for IPv4 addresses, and up to 8 numbers separated by colons for IPv6 addresses. Raise <code>Failure</code> when given a string that does not match these formats.</p></dd></dl><dl><dt class="spec value" id="val-string_of_inet_addr"><a href="#val-string_of_inet_addr" class="anchor"></a><code><span class="keyword">val</span> string_of_inet_addr : <a href="index.html#type-inet_addr">inet_addr</a> <span>&#45;&gt;</span> string</code></dt><dd><p>Return the printable representation of the given Internet address. See <a href="../Unix/index.html#val-inet_addr_of_string"><code>Unix.inet_addr_of_string</code></a> for a description of the printable representation.</p></dd></dl><dl><dt class="spec value" id="val-inet_addr_any"><a href="#val-inet_addr_any" class="anchor"></a><code><span class="keyword">val</span> inet_addr_any : <a href="index.html#type-inet_addr">inet_addr</a></code></dt><dd><p>A special IPv4 address, for use only with <code>bind</code>, representing all the Internet addresses that the host machine possesses.</p></dd></dl><dl><dt class="spec value" id="val-inet_addr_loopback"><a href="#val-inet_addr_loopback" class="anchor"></a><code><span class="keyword">val</span> inet_addr_loopback : <a href="index.html#type-inet_addr">inet_addr</a></code></dt><dd><p>A special IPv4 address representing the host machine (<code>127.0.0.1</code>).</p></dd></dl><dl><dt class="spec value" id="val-inet6_addr_any"><a href="#val-inet6_addr_any" class="anchor"></a><code><span class="keyword">val</span> inet6_addr_any : <a href="index.html#type-inet_addr">inet_addr</a></code></dt><dd><p>A special IPv6 address, for use only with <code>bind</code>, representing all the Internet addresses that the host machine possesses.</p></dd></dl><dl><dt class="spec value" id="val-inet6_addr_loopback"><a href="#val-inet6_addr_loopback" class="anchor"></a><code><span class="keyword">val</span> inet6_addr_loopback : <a href="index.html#type-inet_addr">inet_addr</a></code></dt><dd><p>A special IPv6 address representing the host machine (<code>::1</code>).</p></dd></dl></section><section><header><h2 id="sockets"><a href="#sockets" class="anchor"></a>Sockets</h2></header><dl><dt class="spec type" id="type-socket_domain"><a href="#type-socket_domain" class="anchor"></a><code><span class="keyword">type</span> socket_domain</code><code> = <a href="../Unix/index.html#type-socket_domain">Unix.socket_domain</a></code><code> = </code><table class="variant"><tr id="type-socket_domain.PF_UNIX" class="anchored"><td class="def constructor"><a href="#type-socket_domain.PF_UNIX" class="anchor"></a><code>| </code><code><span class="constructor">PF_UNIX</span></code></td><td class="doc"><p>Unix domain</p></td></tr><tr id="type-socket_domain.PF_INET" class="anchored"><td class="def constructor"><a href="#type-socket_domain.PF_INET" class="anchor"></a><code>| </code><code><span class="constructor">PF_INET</span></code></td><td class="doc"><p>Internet domain (IPv4)</p></td></tr><tr id="type-socket_domain.PF_INET6" class="anchored"><td class="def constructor"><a href="#type-socket_domain.PF_INET6" class="anchor"></a><code>| </code><code><span class="constructor">PF_INET6</span></code></td><td class="doc"><p>Internet domain (IPv6)</p></td></tr></table></dt><dd><p>The type of socket domains. Not all platforms support IPv6 sockets (type <code>PF_INET6</code>).</p></dd></dl><dl><dt class="spec type" id="type-socket_type"><a href="#type-socket_type" class="anchor"></a><code><span class="keyword">type</span> socket_type</code><code> = <a href="../Unix/index.html#type-socket_type">Unix.socket_type</a></code><code> = </code><table class="variant"><tr id="type-socket_type.SOCK_STREAM" class="anchored"><td class="def constructor"><a href="#type-socket_type.SOCK_STREAM" class="anchor"></a><code>| </code><code><span class="constructor">SOCK_STREAM</span></code></td><td class="doc"><p>Stream socket</p></td></tr><tr id="type-socket_type.SOCK_DGRAM" class="anchored"><td class="def constructor"><a href="#type-socket_type.SOCK_DGRAM" class="anchor"></a><code>| </code><code><span class="constructor">SOCK_DGRAM</span></code></td><td class="doc"><p>Datagram socket</p></td></tr><tr id="type-socket_type.SOCK_RAW" class="anchored"><td class="def constructor"><a href="#type-socket_type.SOCK_RAW" class="anchor"></a><code>| </code><code><span class="constructor">SOCK_RAW</span></code></td><td class="doc"><p>Raw socket</p></td></tr><tr id="type-socket_type.SOCK_SEQPACKET" class="anchored"><td class="def constructor"><a href="#type-socket_type.SOCK_SEQPACKET" class="anchor"></a><code>| </code><code><span class="constructor">SOCK_SEQPACKET</span></code></td><td class="doc"><p>Sequenced packets socket</p></td></tr></table></dt><dd><p>The type of socket kinds, specifying the semantics of communications.</p></dd></dl><dl><dt class="spec type" id="type-sockaddr"><a href="#type-sockaddr" class="anchor"></a><code><span class="keyword">type</span> sockaddr</code><code> = <a href="../Unix/index.html#type-sockaddr">Unix.sockaddr</a></code><code> = </code><table class="variant"><tr id="type-sockaddr.ADDR_UNIX" class="anchored"><td class="def constructor"><a href="#type-sockaddr.ADDR_UNIX" class="anchor"></a><code>| </code><code><span class="constructor">ADDR_UNIX</span> <span class="keyword">of</span> string</code></td></tr><tr id="type-sockaddr.ADDR_INET" class="anchored"><td class="def constructor"><a href="#type-sockaddr.ADDR_INET" class="anchor"></a><code>| </code><code><span class="constructor">ADDR_INET</span> <span class="keyword">of</span> <a href="index.html#type-inet_addr">inet_addr</a> * int</code></td><td class="doc"><p>The type of socket addresses. <code>ADDR_UNIX name</code> is a socket address in the Unix domain; <code>name</code> is a file name in the file system. <code>ADDR_INET(addr,port)</code> is a socket address in the Internet domain; <code>addr</code> is the Internet address of the machine, and <code>port</code> is the port number.</p></td></tr></table></dt></dl><dl><dt class="spec value" id="val-socket"><a href="#val-socket" class="anchor"></a><code><span class="keyword">val</span> socket : <span>?&#8288;cloexec:bool</span> <span>&#45;&gt;</span> <span>domain:<a href="index.html#type-socket_domain">socket_domain</a></span> <span>&#45;&gt;</span> <span>kind:<a href="index.html#type-socket_type">socket_type</a></span> <span>&#45;&gt;</span> <span>protocol:int</span> <span>&#45;&gt;</span> <a href="index.html#type-file_descr">file_descr</a></code></dt><dd><p>Create a new socket in the given domain, and with the given kind. The third argument is the protocol type; 0 selects the default protocol for that kind of sockets.</p></dd></dl><dl><dt class="spec value" id="val-domain_of_sockaddr"><a href="#val-domain_of_sockaddr" class="anchor"></a><code><span class="keyword">val</span> domain_of_sockaddr : <a href="index.html#type-sockaddr">sockaddr</a> <span>&#45;&gt;</span> <a href="index.html#type-socket_domain">socket_domain</a></code></dt><dd><p>Return the socket domain adequate for the given socket address.</p></dd></dl><dl><dt class="spec value" id="val-socketpair"><a href="#val-socketpair" class="anchor"></a><code><span class="keyword">val</span> socketpair : <span>?&#8288;cloexec:bool</span> <span>&#45;&gt;</span> <span>domain:<a href="index.html#type-socket_domain">socket_domain</a></span> <span>&#45;&gt;</span> <span>kind:<a href="index.html#type-socket_type">socket_type</a></span> <span>&#45;&gt;</span> <span>protocol:int</span> <span>&#45;&gt;</span> <a href="index.html#type-file_descr">file_descr</a> * <a href="index.html#type-file_descr">file_descr</a></code></dt><dd><p>Create a pair of unnamed sockets, connected together.</p></dd></dl><dl><dt class="spec value" id="val-accept"><a href="#val-accept" class="anchor"></a><code><span class="keyword">val</span> accept : <span>?&#8288;cloexec:bool</span> <span>&#45;&gt;</span> <a href="index.html#type-file_descr">file_descr</a> <span>&#45;&gt;</span> <a href="index.html#type-file_descr">file_descr</a> * <a href="index.html#type-sockaddr">sockaddr</a></code></dt><dd><p>Accept connections on the given socket. The returned descriptor is a socket connected to the client; the returned address is the address of the connecting client.</p></dd></dl><dl><dt class="spec value" id="val-bind"><a href="#val-bind" class="anchor"></a><code><span class="keyword">val</span> bind : <a href="index.html#type-file_descr">file_descr</a> <span>&#45;&gt;</span> <span>addr:<a href="index.html#type-sockaddr">sockaddr</a></span> <span>&#45;&gt;</span> unit</code></dt><dd><p>Bind a socket to an address.</p></dd></dl><dl><dt class="spec value" id="val-connect"><a href="#val-connect" class="anchor"></a><code><span class="keyword">val</span> connect : <a href="index.html#type-file_descr">file_descr</a> <span>&#45;&gt;</span> <span>addr:<a href="index.html#type-sockaddr">sockaddr</a></span> <span>&#45;&gt;</span> unit</code></dt><dd><p>Connect a socket to an address.</p></dd></dl><dl><dt class="spec value" id="val-listen"><a href="#val-listen" class="anchor"></a><code><span class="keyword">val</span> listen : <a href="index.html#type-file_descr">file_descr</a> <span>&#45;&gt;</span> <span>max:int</span> <span>&#45;&gt;</span> unit</code></dt><dd><p>Set up a socket for receiving connection requests. The integer argument is the maximal number of pending requests.</p></dd></dl><dl><dt class="spec type" id="type-shutdown_command"><a href="#type-shutdown_command" class="anchor"></a><code><span class="keyword">type</span> shutdown_command</code><code> = <a href="../Unix/index.html#type-shutdown_command">Unix.shutdown_command</a></code><code> = </code><table class="variant"><tr id="type-shutdown_command.SHUTDOWN_RECEIVE" class="anchored"><td class="def constructor"><a href="#type-shutdown_command.SHUTDOWN_RECEIVE" class="anchor"></a><code>| </code><code><span class="constructor">SHUTDOWN_RECEIVE</span></code></td><td class="doc"><p>Close for receiving</p></td></tr><tr id="type-shutdown_command.SHUTDOWN_SEND" class="anchored"><td class="def constructor"><a href="#type-shutdown_command.SHUTDOWN_SEND" class="anchor"></a><code>| </code><code><span class="constructor">SHUTDOWN_SEND</span></code></td><td class="doc"><p>Close for sending</p></td></tr><tr id="type-shutdown_command.SHUTDOWN_ALL" class="anchored"><td class="def constructor"><a href="#type-shutdown_command.SHUTDOWN_ALL" class="anchor"></a><code>| </code><code><span class="constructor">SHUTDOWN_ALL</span></code></td><td class="doc"><p>Close both</p></td></tr></table></dt><dd><p>The type of commands for <code>shutdown</code>.</p></dd></dl><dl><dt class="spec value" id="val-shutdown"><a href="#val-shutdown" class="anchor"></a><code><span class="keyword">val</span> shutdown : <a href="index.html#type-file_descr">file_descr</a> <span>&#45;&gt;</span> <span>mode:<a href="index.html#type-shutdown_command">shutdown_command</a></span> <span>&#45;&gt;</span> unit</code></dt><dd><p>Shutdown a socket connection. <code>SHUTDOWN_SEND</code> as second argument causes reads on the other end of the connection to return an end-of-file condition. <code>SHUTDOWN_RECEIVE</code> causes writes on the other end of the connection to return a closed pipe condition (<code>SIGPIPE</code> signal).</p></dd></dl><dl><dt class="spec value" id="val-getsockname"><a href="#val-getsockname" class="anchor"></a><code><span class="keyword">val</span> getsockname : <a href="index.html#type-file_descr">file_descr</a> <span>&#45;&gt;</span> <a href="index.html#type-sockaddr">sockaddr</a></code></dt><dd><p>Return the address of the given socket.</p></dd></dl><dl><dt class="spec value" id="val-getpeername"><a href="#val-getpeername" class="anchor"></a><code><span class="keyword">val</span> getpeername : <a href="index.html#type-file_descr">file_descr</a> <span>&#45;&gt;</span> <a href="index.html#type-sockaddr">sockaddr</a></code></dt><dd><p>Return the address of the host connected to the given socket.</p></dd></dl><dl><dt class="spec type" id="type-msg_flag"><a href="#type-msg_flag" class="anchor"></a><code><span class="keyword">type</span> msg_flag</code><code> = <a href="../Unix/index.html#type-msg_flag">Unix.msg_flag</a></code><code> = </code><table class="variant"><tr id="type-msg_flag.MSG_OOB" class="anchored"><td class="def constructor"><a href="#type-msg_flag.MSG_OOB" class="anchor"></a><code>| </code><code><span class="constructor">MSG_OOB</span></code></td></tr><tr id="type-msg_flag.MSG_DONTROUTE" class="anchored"><td class="def constructor"><a href="#type-msg_flag.MSG_DONTROUTE" class="anchor"></a><code>| </code><code><span class="constructor">MSG_DONTROUTE</span></code></td></tr><tr id="type-msg_flag.MSG_PEEK" class="anchored"><td class="def constructor"><a href="#type-msg_flag.MSG_PEEK" class="anchor"></a><code>| </code><code><span class="constructor">MSG_PEEK</span></code></td><td class="doc"><p>The flags for <a href="index.html#val-recv"><code>UnixLabels.recv</code></a>, <a href="index.html#val-recvfrom"><code>UnixLabels.recvfrom</code></a>, <a href="index.html#val-send"><code>UnixLabels.send</code></a> and <a href="index.html#val-sendto"><code>UnixLabels.sendto</code></a>.</p></td></tr></table></dt></dl><dl><dt class="spec value" id="val-recv"><a href="#val-recv" class="anchor"></a><code><span class="keyword">val</span> recv : <a href="index.html#type-file_descr">file_descr</a> <span>&#45;&gt;</span> <span>buf:bytes</span> <span>&#45;&gt;</span> <span>pos:int</span> <span>&#45;&gt;</span> <span>len:int</span> <span>&#45;&gt;</span> <span>mode:<span><a href="index.html#type-msg_flag">msg_flag</a> list</span></span> <span>&#45;&gt;</span> int</code></dt><dd><p>Receive data from a connected socket.</p></dd></dl><dl><dt class="spec value" id="val-recvfrom"><a href="#val-recvfrom" class="anchor"></a><code><span class="keyword">val</span> recvfrom : <a href="index.html#type-file_descr">file_descr</a> <span>&#45;&gt;</span> <span>buf:bytes</span> <span>&#45;&gt;</span> <span>pos:int</span> <span>&#45;&gt;</span> <span>len:int</span> <span>&#45;&gt;</span> <span>mode:<span><a href="index.html#type-msg_flag">msg_flag</a> list</span></span> <span>&#45;&gt;</span> int * <a href="index.html#type-sockaddr">sockaddr</a></code></dt><dd><p>Receive data from an unconnected socket.</p></dd></dl><dl><dt class="spec value" id="val-send"><a href="#val-send" class="anchor"></a><code><span class="keyword">val</span> send : <a href="index.html#type-file_descr">file_descr</a> <span>&#45;&gt;</span> <span>buf:bytes</span> <span>&#45;&gt;</span> <span>pos:int</span> <span>&#45;&gt;</span> <span>len:int</span> <span>&#45;&gt;</span> <span>mode:<span><a href="index.html#type-msg_flag">msg_flag</a> list</span></span> <span>&#45;&gt;</span> int</code></dt><dd><p>Send data over a connected socket.</p></dd></dl><dl><dt class="spec value" id="val-send_substring"><a href="#val-send_substring" class="anchor"></a><code><span class="keyword">val</span> send_substring : <a href="index.html#type-file_descr">file_descr</a> <span>&#45;&gt;</span> <span>buf:string</span> <span>&#45;&gt;</span> <span>pos:int</span> <span>&#45;&gt;</span> <span>len:int</span> <span>&#45;&gt;</span> <span>mode:<span><a href="index.html#type-msg_flag">msg_flag</a> list</span></span> <span>&#45;&gt;</span> int</code></dt><dd><p>Same as <code>send</code>, but take the data from a string instead of a byte sequence.</p><dl><dt>since</dt><dd>4.02.0</dd></dl></dd></dl><dl><dt class="spec value" id="val-sendto"><a href="#val-sendto" class="anchor"></a><code><span class="keyword">val</span> sendto : <a href="index.html#type-file_descr">file_descr</a> <span>&#45;&gt;</span> <span>buf:bytes</span> <span>&#45;&gt;</span> <span>pos:int</span> <span>&#45;&gt;</span> <span>len:int</span> <span>&#45;&gt;</span> <span>mode:<span><a href="index.html#type-msg_flag">msg_flag</a> list</span></span> <span>&#45;&gt;</span> <span>addr:<a href="index.html#type-sockaddr">sockaddr</a></span> <span>&#45;&gt;</span> int</code></dt><dd><p>Send data over an unconnected socket.</p></dd></dl><dl><dt class="spec value" id="val-sendto_substring"><a href="#val-sendto_substring" class="anchor"></a><code><span class="keyword">val</span> sendto_substring : <a href="index.html#type-file_descr">file_descr</a> <span>&#45;&gt;</span> <span>buf:string</span> <span>&#45;&gt;</span> <span>pos:int</span> <span>&#45;&gt;</span> <span>len:int</span> <span>&#45;&gt;</span> <span>mode:<span><a href="index.html#type-msg_flag">msg_flag</a> list</span></span> <span>&#45;&gt;</span> <a href="index.html#type-sockaddr">sockaddr</a> <span>&#45;&gt;</span> int</code></dt><dd><p>Same as <code>sendto</code>, but take the data from a string instead of a byte sequence.</p><dl><dt>since</dt><dd>4.02.0</dd></dl></dd></dl></section><section><header><h2 id="socket-options"><a href="#socket-options" class="anchor"></a>Socket options</h2></header><dl><dt class="spec type" id="type-socket_bool_option"><a href="#type-socket_bool_option" class="anchor"></a><code><span class="keyword">type</span> socket_bool_option</code><code> = </code><table class="variant"><tr id="type-socket_bool_option.SO_DEBUG" class="anchored"><td class="def constructor"><a href="#type-socket_bool_option.SO_DEBUG" class="anchor"></a><code>| </code><code><span class="constructor">SO_DEBUG</span></code></td><td class="doc"><p>Record debugging information</p></td></tr><tr id="type-socket_bool_option.SO_BROADCAST" class="anchored"><td class="def constructor"><a href="#type-socket_bool_option.SO_BROADCAST" class="anchor"></a><code>| </code><code><span class="constructor">SO_BROADCAST</span></code></td><td class="doc"><p>Permit sending of broadcast messages</p></td></tr><tr id="type-socket_bool_option.SO_REUSEADDR" class="anchored"><td class="def constructor"><a href="#type-socket_bool_option.SO_REUSEADDR" class="anchor"></a><code>| </code><code><span class="constructor">SO_REUSEADDR</span></code></td><td class="doc"><p>Allow reuse of local addresses for bind</p></td></tr><tr id="type-socket_bool_option.SO_KEEPALIVE" class="anchored"><td class="def constructor"><a href="#type-socket_bool_option.SO_KEEPALIVE" class="anchor"></a><code>| </code><code><span class="constructor">SO_KEEPALIVE</span></code></td><td class="doc"><p>Keep connection active</p></td></tr><tr id="type-socket_bool_option.SO_DONTROUTE" class="anchored"><td class="def constructor"><a href="#type-socket_bool_option.SO_DONTROUTE" class="anchor"></a><code>| </code><code><span class="constructor">SO_DONTROUTE</span></code></td><td class="doc"><p>Bypass the standard routing algorithms</p></td></tr><tr id="type-socket_bool_option.SO_OOBINLINE" class="anchored"><td class="def constructor"><a href="#type-socket_bool_option.SO_OOBINLINE" class="anchor"></a><code>| </code><code><span class="constructor">SO_OOBINLINE</span></code></td><td class="doc"><p>Leave out-of-band data in line</p></td></tr><tr id="type-socket_bool_option.SO_ACCEPTCONN" class="anchored"><td class="def constructor"><a href="#type-socket_bool_option.SO_ACCEPTCONN" class="anchor"></a><code>| </code><code><span class="constructor">SO_ACCEPTCONN</span></code></td><td class="doc"><p>Report whether socket listening is enabled</p></td></tr><tr id="type-socket_bool_option.TCP_NODELAY" class="anchored"><td class="def constructor"><a href="#type-socket_bool_option.TCP_NODELAY" class="anchor"></a><code>| </code><code><span class="constructor">TCP_NODELAY</span></code></td><td class="doc"><p>Control the Nagle algorithm for TCP sockets</p></td></tr><tr id="type-socket_bool_option.IPV6_ONLY" class="anchored"><td class="def constructor"><a href="#type-socket_bool_option.IPV6_ONLY" class="anchor"></a><code>| </code><code><span class="constructor">IPV6_ONLY</span></code></td><td class="doc"><p>Forbid binding an IPv6 socket to an IPv4 address</p></td></tr></table></dt><dd><p>The socket options that can be consulted with <a href="index.html#val-getsockopt"><code>UnixLabels.getsockopt</code></a> and modified with <a href="index.html#val-setsockopt"><code>UnixLabels.setsockopt</code></a>. These options have a boolean (<code>true</code>/<code>false</code>) value.</p></dd></dl><dl><dt class="spec type" id="type-socket_int_option"><a href="#type-socket_int_option" class="anchor"></a><code><span class="keyword">type</span> socket_int_option</code><code> = </code><table class="variant"><tr id="type-socket_int_option.SO_SNDBUF" class="anchored"><td class="def constructor"><a href="#type-socket_int_option.SO_SNDBUF" class="anchor"></a><code>| </code><code><span class="constructor">SO_SNDBUF</span></code></td><td class="doc"><p>Size of send buffer</p></td></tr><tr id="type-socket_int_option.SO_RCVBUF" class="anchored"><td class="def constructor"><a href="#type-socket_int_option.SO_RCVBUF" class="anchor"></a><code>| </code><code><span class="constructor">SO_RCVBUF</span></code></td><td class="doc"><p>Size of received buffer</p></td></tr><tr id="type-socket_int_option.SO_ERROR" class="anchored"><td class="def constructor"><a href="#type-socket_int_option.SO_ERROR" class="anchor"></a><code>| </code><code><span class="constructor">SO_ERROR</span></code></td><td class="doc"><p>Deprecated. Use <a href="../Unix/index.html#val-getsockopt_error"><code>Unix.getsockopt_error</code></a> instead.</p></td></tr><tr id="type-socket_int_option.SO_TYPE" class="anchored"><td class="def constructor"><a href="#type-socket_int_option.SO_TYPE" class="anchor"></a><code>| </code><code><span class="constructor">SO_TYPE</span></code></td><td class="doc"><p>Report the socket type</p></td></tr><tr id="type-socket_int_option.SO_RCVLOWAT" class="anchored"><td class="def constructor"><a href="#type-socket_int_option.SO_RCVLOWAT" class="anchor"></a><code>| </code><code><span class="constructor">SO_RCVLOWAT</span></code></td><td class="doc"><p>Minimum number of bytes to process for input operations</p></td></tr><tr id="type-socket_int_option.SO_SNDLOWAT" class="anchored"><td class="def constructor"><a href="#type-socket_int_option.SO_SNDLOWAT" class="anchor"></a><code>| </code><code><span class="constructor">SO_SNDLOWAT</span></code></td><td class="doc"><p>Minimum number of bytes to process for output operations</p></td></tr></table></dt><dd><p>The socket options that can be consulted with <a href="index.html#val-getsockopt_int"><code>UnixLabels.getsockopt_int</code></a> and modified with <a href="index.html#val-setsockopt_int"><code>UnixLabels.setsockopt_int</code></a>. These options have an integer value.</p></dd></dl><dl><dt class="spec type" id="type-socket_optint_option"><a href="#type-socket_optint_option" class="anchor"></a><code><span class="keyword">type</span> socket_optint_option</code><code> = </code><table class="variant"><tr id="type-socket_optint_option.SO_LINGER" class="anchored"><td class="def constructor"><a href="#type-socket_optint_option.SO_LINGER" class="anchor"></a><code>| </code><code><span class="constructor">SO_LINGER</span></code></td><td class="doc"><p>Whether to linger on closed connections that have data present, and for how long (in seconds)</p></td></tr></table></dt><dd><p>The socket options that can be consulted with <a href="../Unix/index.html#val-getsockopt_optint"><code>Unix.getsockopt_optint</code></a> and modified with <a href="../Unix/index.html#val-setsockopt_optint"><code>Unix.setsockopt_optint</code></a>. These options have a value of type <code>int option</code>, with <code>None</code> meaning ``disabled''.</p></dd></dl><dl><dt class="spec type" id="type-socket_float_option"><a href="#type-socket_float_option" class="anchor"></a><code><span class="keyword">type</span> socket_float_option</code><code> = </code><table class="variant"><tr id="type-socket_float_option.SO_RCVTIMEO" class="anchored"><td class="def constructor"><a href="#type-socket_float_option.SO_RCVTIMEO" class="anchor"></a><code>| </code><code><span class="constructor">SO_RCVTIMEO</span></code></td><td class="doc"><p>Timeout for input operations</p></td></tr><tr id="type-socket_float_option.SO_SNDTIMEO" class="anchored"><td class="def constructor"><a href="#type-socket_float_option.SO_SNDTIMEO" class="anchor"></a><code>| </code><code><span class="constructor">SO_SNDTIMEO</span></code></td><td class="doc"><p>Timeout for output operations</p></td></tr></table></dt><dd><p>The socket options that can be consulted with <a href="index.html#val-getsockopt_float"><code>UnixLabels.getsockopt_float</code></a> and modified with <a href="index.html#val-setsockopt_float"><code>UnixLabels.setsockopt_float</code></a>. These options have a floating-point value representing a time in seconds. The value 0 means infinite timeout.</p></dd></dl><dl><dt class="spec value" id="val-getsockopt"><a href="#val-getsockopt" class="anchor"></a><code><span class="keyword">val</span> getsockopt : <a href="index.html#type-file_descr">file_descr</a> <span>&#45;&gt;</span> <a href="index.html#type-socket_bool_option">socket_bool_option</a> <span>&#45;&gt;</span> bool</code></dt><dd><p>Return the current status of a boolean-valued option in the given socket.</p></dd></dl><dl><dt class="spec value" id="val-setsockopt"><a href="#val-setsockopt" class="anchor"></a><code><span class="keyword">val</span> setsockopt : <a href="index.html#type-file_descr">file_descr</a> <span>&#45;&gt;</span> <a href="index.html#type-socket_bool_option">socket_bool_option</a> <span>&#45;&gt;</span> bool <span>&#45;&gt;</span> unit</code></dt><dd><p>Set or clear a boolean-valued option in the given socket.</p></dd></dl><dl><dt class="spec value" id="val-getsockopt_int"><a href="#val-getsockopt_int" class="anchor"></a><code><span class="keyword">val</span> getsockopt_int : <a href="index.html#type-file_descr">file_descr</a> <span>&#45;&gt;</span> <a href="index.html#type-socket_int_option">socket_int_option</a> <span>&#45;&gt;</span> int</code></dt><dd><p>Same as <a href="../Unix/index.html#val-getsockopt"><code>Unix.getsockopt</code></a> for an integer-valued socket option.</p></dd></dl><dl><dt class="spec value" id="val-setsockopt_int"><a href="#val-setsockopt_int" class="anchor"></a><code><span class="keyword">val</span> setsockopt_int : <a href="index.html#type-file_descr">file_descr</a> <span>&#45;&gt;</span> <a href="index.html#type-socket_int_option">socket_int_option</a> <span>&#45;&gt;</span> int <span>&#45;&gt;</span> unit</code></dt><dd><p>Same as <a href="../Unix/index.html#val-setsockopt"><code>Unix.setsockopt</code></a> for an integer-valued socket option.</p></dd></dl><dl><dt class="spec value" id="val-getsockopt_optint"><a href="#val-getsockopt_optint" class="anchor"></a><code><span class="keyword">val</span> getsockopt_optint : <a href="index.html#type-file_descr">file_descr</a> <span>&#45;&gt;</span> <a href="index.html#type-socket_optint_option">socket_optint_option</a> <span>&#45;&gt;</span> <span>int option</span></code></dt><dd><p>Same as <a href="../Unix/index.html#val-getsockopt"><code>Unix.getsockopt</code></a> for a socket option whose value is an <code>int option</code>.</p></dd></dl><dl><dt class="spec value" id="val-setsockopt_optint"><a href="#val-setsockopt_optint" class="anchor"></a><code><span class="keyword">val</span> setsockopt_optint : <a href="index.html#type-file_descr">file_descr</a> <span>&#45;&gt;</span> <a href="index.html#type-socket_optint_option">socket_optint_option</a> <span>&#45;&gt;</span> <span>int option</span> <span>&#45;&gt;</span> unit</code></dt><dd><p>Same as <a href="../Unix/index.html#val-setsockopt"><code>Unix.setsockopt</code></a> for a socket option whose value is an <code>int option</code>.</p></dd></dl><dl><dt class="spec value" id="val-getsockopt_float"><a href="#val-getsockopt_float" class="anchor"></a><code><span class="keyword">val</span> getsockopt_float : <a href="index.html#type-file_descr">file_descr</a> <span>&#45;&gt;</span> <a href="index.html#type-socket_float_option">socket_float_option</a> <span>&#45;&gt;</span> float</code></dt><dd><p>Same as <a href="../Unix/index.html#val-getsockopt"><code>Unix.getsockopt</code></a> for a socket option whose value is a floating-point number.</p></dd></dl><dl><dt class="spec value" id="val-setsockopt_float"><a href="#val-setsockopt_float" class="anchor"></a><code><span class="keyword">val</span> setsockopt_float : <a href="index.html#type-file_descr">file_descr</a> <span>&#45;&gt;</span> <a href="index.html#type-socket_float_option">socket_float_option</a> <span>&#45;&gt;</span> float <span>&#45;&gt;</span> unit</code></dt><dd><p>Same as <a href="../Unix/index.html#val-setsockopt"><code>Unix.setsockopt</code></a> for a socket option whose value is a floating-point number.</p></dd></dl><dl><dt class="spec value" id="val-getsockopt_error"><a href="#val-getsockopt_error" class="anchor"></a><code><span class="keyword">val</span> getsockopt_error : <a href="index.html#type-file_descr">file_descr</a> <span>&#45;&gt;</span> <span><a href="index.html#type-error">error</a> option</span></code></dt><dd><p>Return the error condition associated with the given socket, and clear it.</p></dd></dl></section><section><header><h2 id="high-level-network-connection-functions"><a href="#high-level-network-connection-functions" class="anchor"></a>High-level network connection functions</h2></header><dl><dt class="spec value" id="val-open_connection"><a href="#val-open_connection" class="anchor"></a><code><span class="keyword">val</span> open_connection : <a href="index.html#type-sockaddr">sockaddr</a> <span>&#45;&gt;</span> <a href="../Stdlib/index.html#type-in_channel">Stdlib.in_channel</a> * <a href="../Stdlib/index.html#type-out_channel">Stdlib.out_channel</a></code></dt><dd><p>Connect to a server at the given address. Return a pair of buffered channels connected to the server. Remember to call <a href="../Stdlib/index.html#val-flush"><code>Stdlib.flush</code></a> on the output channel at the right times to ensure correct synchronization.</p></dd></dl><dl><dt class="spec value" id="val-shutdown_connection"><a href="#val-shutdown_connection" class="anchor"></a><code><span class="keyword">val</span> shutdown_connection : <a href="../Stdlib/index.html#type-in_channel">Stdlib.in_channel</a> <span>&#45;&gt;</span> unit</code></dt><dd><p>``Shut down'' a connection established with <a href="index.html#val-open_connection"><code>UnixLabels.open_connection</code></a>; that is, transmit an end-of-file condition to the server reading on the other side of the connection.</p></dd></dl><dl><dt class="spec value" id="val-establish_server"><a href="#val-establish_server" class="anchor"></a><code><span class="keyword">val</span> establish_server : <span>(<a href="../Stdlib/index.html#type-in_channel">Stdlib.in_channel</a> <span>&#45;&gt;</span> <a href="../Stdlib/index.html#type-out_channel">Stdlib.out_channel</a> <span>&#45;&gt;</span> unit)</span> <span>&#45;&gt;</span> <span>addr:<a href="index.html#type-sockaddr">sockaddr</a></span> <span>&#45;&gt;</span> unit</code></dt><dd><p>Establish a server on the given address. The function given as first argument is called for each connection with two buffered channels connected to the client. A new process is created for each connection. The function <a href="index.html#val-establish_server"><code>UnixLabels.establish_server</code></a> never returns normally.</p></dd></dl></section><section><header><h2 id="host-and-protocol-databases"><a href="#host-and-protocol-databases" class="anchor"></a>Host and protocol databases</h2></header><dl><dt class="spec type" id="type-host_entry"><a href="#type-host_entry" class="anchor"></a><code><span class="keyword">type</span> host_entry</code><code> = <a href="../Unix/index.html#type-host_entry">Unix.host_entry</a></code><code> = </code><code>{</code><table class="record"><tr id="type-host_entry.h_name" class="anchored"><td class="def field"><a href="#type-host_entry.h_name" class="anchor"></a><code>h_name : string;</code></td></tr><tr id="type-host_entry.h_aliases" class="anchored"><td class="def field"><a href="#type-host_entry.h_aliases" class="anchor"></a><code>h_aliases : <span>string array</span>;</code></td></tr><tr id="type-host_entry.h_addrtype" class="anchored"><td class="def field"><a href="#type-host_entry.h_addrtype" class="anchor"></a><code>h_addrtype : <a href="index.html#type-socket_domain">socket_domain</a>;</code></td></tr><tr id="type-host_entry.h_addr_list" class="anchored"><td class="def field"><a href="#type-host_entry.h_addr_list" class="anchor"></a><code>h_addr_list : <span><a href="index.html#type-inet_addr">inet_addr</a> array</span>;</code></td></tr></table><code>}</code></dt><dd><p>Structure of entries in the <code>hosts</code> database.</p></dd></dl><dl><dt class="spec type" id="type-protocol_entry"><a href="#type-protocol_entry" class="anchor"></a><code><span class="keyword">type</span> protocol_entry</code><code> = <a href="../Unix/index.html#type-protocol_entry">Unix.protocol_entry</a></code><code> = </code><code>{</code><table class="record"><tr id="type-protocol_entry.p_name" class="anchored"><td class="def field"><a href="#type-protocol_entry.p_name" class="anchor"></a><code>p_name : string;</code></td></tr><tr id="type-protocol_entry.p_aliases" class="anchored"><td class="def field"><a href="#type-protocol_entry.p_aliases" class="anchor"></a><code>p_aliases : <span>string array</span>;</code></td></tr><tr id="type-protocol_entry.p_proto" class="anchored"><td class="def field"><a href="#type-protocol_entry.p_proto" class="anchor"></a><code>p_proto : int;</code></td></tr></table><code>}</code></dt><dd><p>Structure of entries in the <code>protocols</code> database.</p></dd></dl><dl><dt class="spec type" id="type-service_entry"><a href="#type-service_entry" class="anchor"></a><code><span class="keyword">type</span> service_entry</code><code> = <a href="../Unix/index.html#type-service_entry">Unix.service_entry</a></code><code> = </code><code>{</code><table class="record"><tr id="type-service_entry.s_name" class="anchored"><td class="def field"><a href="#type-service_entry.s_name" class="anchor"></a><code>s_name : string;</code></td></tr><tr id="type-service_entry.s_aliases" class="anchored"><td class="def field"><a href="#type-service_entry.s_aliases" class="anchor"></a><code>s_aliases : <span>string array</span>;</code></td></tr><tr id="type-service_entry.s_port" class="anchored"><td class="def field"><a href="#type-service_entry.s_port" class="anchor"></a><code>s_port : int;</code></td></tr><tr id="type-service_entry.s_proto" class="anchored"><td class="def field"><a href="#type-service_entry.s_proto" class="anchor"></a><code>s_proto : string;</code></td></tr></table><code>}</code></dt><dd><p>Structure of entries in the <code>services</code> database.</p></dd></dl><dl><dt class="spec value" id="val-gethostname"><a href="#val-gethostname" class="anchor"></a><code><span class="keyword">val</span> gethostname : unit <span>&#45;&gt;</span> string</code></dt><dd><p>Return the name of the local host.</p></dd></dl><dl><dt class="spec value" id="val-gethostbyname"><a href="#val-gethostbyname" class="anchor"></a><code><span class="keyword">val</span> gethostbyname : string <span>&#45;&gt;</span> <a href="index.html#type-host_entry">host_entry</a></code></dt><dd><p>Find an entry in <code>hosts</code> with the given name, or raise <code>Not_found</code>.</p></dd></dl><dl><dt class="spec value" id="val-gethostbyaddr"><a href="#val-gethostbyaddr" class="anchor"></a><code><span class="keyword">val</span> gethostbyaddr : <a href="index.html#type-inet_addr">inet_addr</a> <span>&#45;&gt;</span> <a href="index.html#type-host_entry">host_entry</a></code></dt><dd><p>Find an entry in <code>hosts</code> with the given address, or raise <code>Not_found</code>.</p></dd></dl><dl><dt class="spec value" id="val-getprotobyname"><a href="#val-getprotobyname" class="anchor"></a><code><span class="keyword">val</span> getprotobyname : string <span>&#45;&gt;</span> <a href="index.html#type-protocol_entry">protocol_entry</a></code></dt><dd><p>Find an entry in <code>protocols</code> with the given name, or raise <code>Not_found</code>.</p></dd></dl><dl><dt class="spec value" id="val-getprotobynumber"><a href="#val-getprotobynumber" class="anchor"></a><code><span class="keyword">val</span> getprotobynumber : int <span>&#45;&gt;</span> <a href="index.html#type-protocol_entry">protocol_entry</a></code></dt><dd><p>Find an entry in <code>protocols</code> with the given protocol number, or raise <code>Not_found</code>.</p></dd></dl><dl><dt class="spec value" id="val-getservbyname"><a href="#val-getservbyname" class="anchor"></a><code><span class="keyword">val</span> getservbyname : string <span>&#45;&gt;</span> <span>protocol:string</span> <span>&#45;&gt;</span> <a href="index.html#type-service_entry">service_entry</a></code></dt><dd><p>Find an entry in <code>services</code> with the given name, or raise <code>Not_found</code>.</p></dd></dl><dl><dt class="spec value" id="val-getservbyport"><a href="#val-getservbyport" class="anchor"></a><code><span class="keyword">val</span> getservbyport : int <span>&#45;&gt;</span> <span>protocol:string</span> <span>&#45;&gt;</span> <a href="index.html#type-service_entry">service_entry</a></code></dt><dd><p>Find an entry in <code>services</code> with the given service number, or raise <code>Not_found</code>.</p></dd></dl><dl><dt class="spec type" id="type-addr_info"><a href="#type-addr_info" class="anchor"></a><code><span class="keyword">type</span> addr_info</code><code> = </code><code>{</code><table class="record"><tr id="type-addr_info.ai_family" class="anchored"><td class="def field"><a href="#type-addr_info.ai_family" class="anchor"></a><code>ai_family : <a href="index.html#type-socket_domain">socket_domain</a>;</code></td><td class="doc"><p>Socket domain</p></td></tr><tr id="type-addr_info.ai_socktype" class="anchored"><td class="def field"><a href="#type-addr_info.ai_socktype" class="anchor"></a><code>ai_socktype : <a href="index.html#type-socket_type">socket_type</a>;</code></td><td class="doc"><p>Socket type</p></td></tr><tr id="type-addr_info.ai_protocol" class="anchored"><td class="def field"><a href="#type-addr_info.ai_protocol" class="anchor"></a><code>ai_protocol : int;</code></td><td class="doc"><p>Socket protocol number</p></td></tr><tr id="type-addr_info.ai_addr" class="anchored"><td class="def field"><a href="#type-addr_info.ai_addr" class="anchor"></a><code>ai_addr : <a href="index.html#type-sockaddr">sockaddr</a>;</code></td><td class="doc"><p>Address</p></td></tr><tr id="type-addr_info.ai_canonname" class="anchored"><td class="def field"><a href="#type-addr_info.ai_canonname" class="anchor"></a><code>ai_canonname : string;</code></td><td class="doc"><p>Canonical host name</p></td></tr></table><code>}</code></dt><dd><p>Address information returned by <a href="../Unix/index.html#val-getaddrinfo"><code>Unix.getaddrinfo</code></a>.</p></dd></dl><dl><dt class="spec type" id="type-getaddrinfo_option"><a href="#type-getaddrinfo_option" class="anchor"></a><code><span class="keyword">type</span> getaddrinfo_option</code><code> = </code><table class="variant"><tr id="type-getaddrinfo_option.AI_FAMILY" class="anchored"><td class="def constructor"><a href="#type-getaddrinfo_option.AI_FAMILY" class="anchor"></a><code>| </code><code><span class="constructor">AI_FAMILY</span> <span class="keyword">of</span> <a href="index.html#type-socket_domain">socket_domain</a></code></td><td class="doc"><p>Impose the given socket domain</p></td></tr><tr id="type-getaddrinfo_option.AI_SOCKTYPE" class="anchored"><td class="def constructor"><a href="#type-getaddrinfo_option.AI_SOCKTYPE" class="anchor"></a><code>| </code><code><span class="constructor">AI_SOCKTYPE</span> <span class="keyword">of</span> <a href="index.html#type-socket_type">socket_type</a></code></td><td class="doc"><p>Impose the given socket type</p></td></tr><tr id="type-getaddrinfo_option.AI_PROTOCOL" class="anchored"><td class="def constructor"><a href="#type-getaddrinfo_option.AI_PROTOCOL" class="anchor"></a><code>| </code><code><span class="constructor">AI_PROTOCOL</span> <span class="keyword">of</span> int</code></td><td class="doc"><p>Impose the given protocol</p></td></tr><tr id="type-getaddrinfo_option.AI_NUMERICHOST" class="anchored"><td class="def constructor"><a href="#type-getaddrinfo_option.AI_NUMERICHOST" class="anchor"></a><code>| </code><code><span class="constructor">AI_NUMERICHOST</span></code></td><td class="doc"><p>Do not call name resolver, expect numeric IP address</p></td></tr><tr id="type-getaddrinfo_option.AI_CANONNAME" class="anchored"><td class="def constructor"><a href="#type-getaddrinfo_option.AI_CANONNAME" class="anchor"></a><code>| </code><code><span class="constructor">AI_CANONNAME</span></code></td><td class="doc"><p>Fill the <code>ai_canonname</code> field of the result</p></td></tr><tr id="type-getaddrinfo_option.AI_PASSIVE" class="anchored"><td class="def constructor"><a href="#type-getaddrinfo_option.AI_PASSIVE" class="anchor"></a><code>| </code><code><span class="constructor">AI_PASSIVE</span></code></td><td class="doc"><p>Set address to ``any'' address for use with <a href="../Unix/index.html#val-bind"><code>Unix.bind</code></a></p></td></tr></table></dt><dd><p>Options to <a href="../Unix/index.html#val-getaddrinfo"><code>Unix.getaddrinfo</code></a>.</p></dd></dl><dl><dt class="spec value" id="val-getaddrinfo"><a href="#val-getaddrinfo" class="anchor"></a><code><span class="keyword">val</span> getaddrinfo : string <span>&#45;&gt;</span> string <span>&#45;&gt;</span> <span><a href="index.html#type-getaddrinfo_option">getaddrinfo_option</a> list</span> <span>&#45;&gt;</span> <span><a href="index.html#type-addr_info">addr_info</a> list</span></code></dt><dd><p><code>getaddrinfo host service opts</code> returns a list of <a href="../Unix/index.html#type-addr_info"><code>Unix.addr_info</code></a> records describing socket parameters and addresses suitable for communicating with the given host and service. The empty list is returned if the host or service names are unknown, or the constraints expressed in <code>opts</code> cannot be satisfied.</p><p><code>host</code> is either a host name or the string representation of an IP address. <code>host</code> can be given as the empty string; in this case, the ``any'' address or the ``loopback'' address are used, depending whether <code>opts</code> contains <code>AI_PASSIVE</code>. <code>service</code> is either a service name or the string representation of a port number. <code>service</code> can be given as the empty string; in this case, the port field of the returned addresses is set to 0. <code>opts</code> is a possibly empty list of options that allows the caller to force a particular socket domain (e.g. IPv6 only or IPv4 only) or a particular socket type (e.g. TCP only or UDP only).</p></dd></dl><dl><dt class="spec type" id="type-name_info"><a href="#type-name_info" class="anchor"></a><code><span class="keyword">type</span> name_info</code><code> = </code><code>{</code><table class="record"><tr id="type-name_info.ni_hostname" class="anchored"><td class="def field"><a href="#type-name_info.ni_hostname" class="anchor"></a><code>ni_hostname : string;</code></td><td class="doc"><p>Name or IP address of host</p></td></tr><tr id="type-name_info.ni_service" class="anchored"><td class="def field"><a href="#type-name_info.ni_service" class="anchor"></a><code>ni_service : string;</code></td><td class="doc"><p>Name of service or port number</p></td></tr></table><code>}</code></dt><dd><p>Host and service information returned by <a href="../Unix/index.html#val-getnameinfo"><code>Unix.getnameinfo</code></a>.</p></dd></dl><dl><dt class="spec type" id="type-getnameinfo_option"><a href="#type-getnameinfo_option" class="anchor"></a><code><span class="keyword">type</span> getnameinfo_option</code><code> = </code><table class="variant"><tr id="type-getnameinfo_option.NI_NOFQDN" class="anchored"><td class="def constructor"><a href="#type-getnameinfo_option.NI_NOFQDN" class="anchor"></a><code>| </code><code><span class="constructor">NI_NOFQDN</span></code></td><td class="doc"><p>Do not qualify local host names</p></td></tr><tr id="type-getnameinfo_option.NI_NUMERICHOST" class="anchored"><td class="def constructor"><a href="#type-getnameinfo_option.NI_NUMERICHOST" class="anchor"></a><code>| </code><code><span class="constructor">NI_NUMERICHOST</span></code></td><td class="doc"><p>Always return host as IP address</p></td></tr><tr id="type-getnameinfo_option.NI_NAMEREQD" class="anchored"><td class="def constructor"><a href="#type-getnameinfo_option.NI_NAMEREQD" class="anchor"></a><code>| </code><code><span class="constructor">NI_NAMEREQD</span></code></td><td class="doc"><p>Fail if host name cannot be determined</p></td></tr><tr id="type-getnameinfo_option.NI_NUMERICSERV" class="anchored"><td class="def constructor"><a href="#type-getnameinfo_option.NI_NUMERICSERV" class="anchor"></a><code>| </code><code><span class="constructor">NI_NUMERICSERV</span></code></td><td class="doc"><p>Always return service as port number</p></td></tr><tr id="type-getnameinfo_option.NI_DGRAM" class="anchored"><td class="def constructor"><a href="#type-getnameinfo_option.NI_DGRAM" class="anchor"></a><code>| </code><code><span class="constructor">NI_DGRAM</span></code></td><td class="doc"><p>Consider the service as UDP-based instead of the default TCP</p></td></tr></table></dt><dd><p>Options to <a href="../Unix/index.html#val-getnameinfo"><code>Unix.getnameinfo</code></a>.</p></dd></dl><dl><dt class="spec value" id="val-getnameinfo"><a href="#val-getnameinfo" class="anchor"></a><code><span class="keyword">val</span> getnameinfo : <a href="index.html#type-sockaddr">sockaddr</a> <span>&#45;&gt;</span> <span><a href="index.html#type-getnameinfo_option">getnameinfo_option</a> list</span> <span>&#45;&gt;</span> <a href="index.html#type-name_info">name_info</a></code></dt><dd><p><code>getnameinfo addr opts</code> returns the host name and service name corresponding to the socket address <code>addr</code>. <code>opts</code> is a possibly empty list of options that governs how these names are obtained. Raise <code>Not_found</code> if an error occurs.</p></dd></dl></section><section><header><h2 id="terminal-interface"><a href="#terminal-interface" class="anchor"></a>Terminal interface</h2></header><aside><p>The following functions implement the POSIX standard terminal interface. They provide control over asynchronous communication ports and pseudo-terminals. Refer to the <code>termios</code> man page for a complete description.</p></aside><dl><dt class="spec type" id="type-terminal_io"><a href="#type-terminal_io" class="anchor"></a><code><span class="keyword">type</span> terminal_io</code><code> = <a href="../Unix/index.html#type-terminal_io">Unix.terminal_io</a></code><code> = </code><code>{</code><table class="record"><tr id="type-terminal_io.c_ignbrk" class="anchored"><td class="def field"><a href="#type-terminal_io.c_ignbrk" class="anchor"></a><code><span class="keyword">mutable</span> c_ignbrk : bool;</code></td><td class="doc"><p>Ignore the break condition.</p></td></tr><tr id="type-terminal_io.c_brkint" class="anchored"><td class="def field"><a href="#type-terminal_io.c_brkint" class="anchor"></a><code><span class="keyword">mutable</span> c_brkint : bool;</code></td><td class="doc"><p>Signal interrupt on break condition.</p></td></tr><tr id="type-terminal_io.c_ignpar" class="anchored"><td class="def field"><a href="#type-terminal_io.c_ignpar" class="anchor"></a><code><span class="keyword">mutable</span> c_ignpar : bool;</code></td><td class="doc"><p>Ignore characters with parity errors.</p></td></tr><tr id="type-terminal_io.c_parmrk" class="anchored"><td class="def field"><a href="#type-terminal_io.c_parmrk" class="anchor"></a><code><span class="keyword">mutable</span> c_parmrk : bool;</code></td><td class="doc"><p>Mark parity errors.</p></td></tr><tr id="type-terminal_io.c_inpck" class="anchored"><td class="def field"><a href="#type-terminal_io.c_inpck" class="anchor"></a><code><span class="keyword">mutable</span> c_inpck : bool;</code></td><td class="doc"><p>Enable parity check on input.</p></td></tr><tr id="type-terminal_io.c_istrip" class="anchored"><td class="def field"><a href="#type-terminal_io.c_istrip" class="anchor"></a><code><span class="keyword">mutable</span> c_istrip : bool;</code></td><td class="doc"><p>Strip 8th bit on input characters.</p></td></tr><tr id="type-terminal_io.c_inlcr" class="anchored"><td class="def field"><a href="#type-terminal_io.c_inlcr" class="anchor"></a><code><span class="keyword">mutable</span> c_inlcr : bool;</code></td><td class="doc"><p>Map NL to CR on input.</p></td></tr><tr id="type-terminal_io.c_igncr" class="anchored"><td class="def field"><a href="#type-terminal_io.c_igncr" class="anchor"></a><code><span class="keyword">mutable</span> c_igncr : bool;</code></td><td class="doc"><p>Ignore CR on input.</p></td></tr><tr id="type-terminal_io.c_icrnl" class="anchored"><td class="def field"><a href="#type-terminal_io.c_icrnl" class="anchor"></a><code><span class="keyword">mutable</span> c_icrnl : bool;</code></td><td class="doc"><p>Map CR to NL on input.</p></td></tr><tr id="type-terminal_io.c_ixon" class="anchored"><td class="def field"><a href="#type-terminal_io.c_ixon" class="anchor"></a><code><span class="keyword">mutable</span> c_ixon : bool;</code></td><td class="doc"><p>Recognize XON/XOFF characters on input.</p></td></tr><tr id="type-terminal_io.c_ixoff" class="anchored"><td class="def field"><a href="#type-terminal_io.c_ixoff" class="anchor"></a><code><span class="keyword">mutable</span> c_ixoff : bool;</code></td><td class="doc"><p>Emit XON/XOFF chars to control input flow.</p></td></tr><tr id="type-terminal_io.c_opost" class="anchored"><td class="def field"><a href="#type-terminal_io.c_opost" class="anchor"></a><code><span class="keyword">mutable</span> c_opost : bool;</code></td><td class="doc"><p>Enable output processing.</p></td></tr><tr id="type-terminal_io.c_obaud" class="anchored"><td class="def field"><a href="#type-terminal_io.c_obaud" class="anchor"></a><code><span class="keyword">mutable</span> c_obaud : int;</code></td><td class="doc"><p>Output baud rate (0 means close connection).</p></td></tr><tr id="type-terminal_io.c_ibaud" class="anchored"><td class="def field"><a href="#type-terminal_io.c_ibaud" class="anchor"></a><code><span class="keyword">mutable</span> c_ibaud : int;</code></td><td class="doc"><p>Input baud rate.</p></td></tr><tr id="type-terminal_io.c_csize" class="anchored"><td class="def field"><a href="#type-terminal_io.c_csize" class="anchor"></a><code><span class="keyword">mutable</span> c_csize : int;</code></td><td class="doc"><p>Number of bits per character (5-8).</p></td></tr><tr id="type-terminal_io.c_cstopb" class="anchored"><td class="def field"><a href="#type-terminal_io.c_cstopb" class="anchor"></a><code><span class="keyword">mutable</span> c_cstopb : int;</code></td><td class="doc"><p>Number of stop bits (1-2).</p></td></tr><tr id="type-terminal_io.c_cread" class="anchored"><td class="def field"><a href="#type-terminal_io.c_cread" class="anchor"></a><code><span class="keyword">mutable</span> c_cread : bool;</code></td><td class="doc"><p>Reception is enabled.</p></td></tr><tr id="type-terminal_io.c_parenb" class="anchored"><td class="def field"><a href="#type-terminal_io.c_parenb" class="anchor"></a><code><span class="keyword">mutable</span> c_parenb : bool;</code></td><td class="doc"><p>Enable parity generation and detection.</p></td></tr><tr id="type-terminal_io.c_parodd" class="anchored"><td class="def field"><a href="#type-terminal_io.c_parodd" class="anchor"></a><code><span class="keyword">mutable</span> c_parodd : bool;</code></td><td class="doc"><p>Specify odd parity instead of even.</p></td></tr><tr id="type-terminal_io.c_hupcl" class="anchored"><td class="def field"><a href="#type-terminal_io.c_hupcl" class="anchor"></a><code><span class="keyword">mutable</span> c_hupcl : bool;</code></td><td class="doc"><p>Hang up on last close.</p></td></tr><tr id="type-terminal_io.c_clocal" class="anchored"><td class="def field"><a href="#type-terminal_io.c_clocal" class="anchor"></a><code><span class="keyword">mutable</span> c_clocal : bool;</code></td><td class="doc"><p>Ignore modem status lines.</p></td></tr><tr id="type-terminal_io.c_isig" class="anchored"><td class="def field"><a href="#type-terminal_io.c_isig" class="anchor"></a><code><span class="keyword">mutable</span> c_isig : bool;</code></td><td class="doc"><p>Generate signal on INTR, QUIT, SUSP.</p></td></tr><tr id="type-terminal_io.c_icanon" class="anchored"><td class="def field"><a href="#type-terminal_io.c_icanon" class="anchor"></a><code><span class="keyword">mutable</span> c_icanon : bool;</code></td><td class="doc"><p>Enable canonical processing (line buffering and editing)</p></td></tr><tr id="type-terminal_io.c_noflsh" class="anchored"><td class="def field"><a href="#type-terminal_io.c_noflsh" class="anchor"></a><code><span class="keyword">mutable</span> c_noflsh : bool;</code></td><td class="doc"><p>Disable flush after INTR, QUIT, SUSP.</p></td></tr><tr id="type-terminal_io.c_echo" class="anchored"><td class="def field"><a href="#type-terminal_io.c_echo" class="anchor"></a><code><span class="keyword">mutable</span> c_echo : bool;</code></td><td class="doc"><p>Echo input characters.</p></td></tr><tr id="type-terminal_io.c_echoe" class="anchored"><td class="def field"><a href="#type-terminal_io.c_echoe" class="anchor"></a><code><span class="keyword">mutable</span> c_echoe : bool;</code></td><td class="doc"><p>Echo ERASE (to erase previous character).</p></td></tr><tr id="type-terminal_io.c_echok" class="anchored"><td class="def field"><a href="#type-terminal_io.c_echok" class="anchor"></a><code><span class="keyword">mutable</span> c_echok : bool;</code></td><td class="doc"><p>Echo KILL (to erase the current line).</p></td></tr><tr id="type-terminal_io.c_echonl" class="anchored"><td class="def field"><a href="#type-terminal_io.c_echonl" class="anchor"></a><code><span class="keyword">mutable</span> c_echonl : bool;</code></td><td class="doc"><p>Echo NL even if c_echo is not set.</p></td></tr><tr id="type-terminal_io.c_vintr" class="anchored"><td class="def field"><a href="#type-terminal_io.c_vintr" class="anchor"></a><code><span class="keyword">mutable</span> c_vintr : char;</code></td><td class="doc"><p>Interrupt character (usually ctrl-C).</p></td></tr><tr id="type-terminal_io.c_vquit" class="anchored"><td class="def field"><a href="#type-terminal_io.c_vquit" class="anchor"></a><code><span class="keyword">mutable</span> c_vquit : char;</code></td><td class="doc"><p>Quit character (usually ctrl-\).</p></td></tr><tr id="type-terminal_io.c_verase" class="anchored"><td class="def field"><a href="#type-terminal_io.c_verase" class="anchor"></a><code><span class="keyword">mutable</span> c_verase : char;</code></td><td class="doc"><p>Erase character (usually DEL or ctrl-H).</p></td></tr><tr id="type-terminal_io.c_vkill" class="anchored"><td class="def field"><a href="#type-terminal_io.c_vkill" class="anchor"></a><code><span class="keyword">mutable</span> c_vkill : char;</code></td><td class="doc"><p>Kill line character (usually ctrl-U).</p></td></tr><tr id="type-terminal_io.c_veof" class="anchored"><td class="def field"><a href="#type-terminal_io.c_veof" class="anchor"></a><code><span class="keyword">mutable</span> c_veof : char;</code></td><td class="doc"><p>End-of-file character (usually ctrl-D).</p></td></tr><tr id="type-terminal_io.c_veol" class="anchored"><td class="def field"><a href="#type-terminal_io.c_veol" class="anchor"></a><code><span class="keyword">mutable</span> c_veol : char;</code></td><td class="doc"><p>Alternate end-of-line char. (usually none).</p></td></tr><tr id="type-terminal_io.c_vmin" class="anchored"><td class="def field"><a href="#type-terminal_io.c_vmin" class="anchor"></a><code><span class="keyword">mutable</span> c_vmin : int;</code></td><td class="doc"><p>Minimum number of characters to read before the read request is satisfied.</p></td></tr><tr id="type-terminal_io.c_vtime" class="anchored"><td class="def field"><a href="#type-terminal_io.c_vtime" class="anchor"></a><code><span class="keyword">mutable</span> c_vtime : int;</code></td><td class="doc"><p>Maximum read wait (in 0.1s units).</p></td></tr><tr id="type-terminal_io.c_vstart" class="anchored"><td class="def field"><a href="#type-terminal_io.c_vstart" class="anchor"></a><code><span class="keyword">mutable</span> c_vstart : char;</code></td><td class="doc"><p>Start character (usually ctrl-Q).</p></td></tr><tr id="type-terminal_io.c_vstop" class="anchored"><td class="def field"><a href="#type-terminal_io.c_vstop" class="anchor"></a><code><span class="keyword">mutable</span> c_vstop : char;</code></td><td class="doc"><p>Stop character (usually ctrl-S).</p></td></tr></table><code>}</code></dt></dl><dl><dt class="spec value" id="val-tcgetattr"><a href="#val-tcgetattr" class="anchor"></a><code><span class="keyword">val</span> tcgetattr : <a href="index.html#type-file_descr">file_descr</a> <span>&#45;&gt;</span> <a href="index.html#type-terminal_io">terminal_io</a></code></dt><dd><p>Return the status of the terminal referred to by the given file descriptor.</p></dd></dl><dl><dt class="spec type" id="type-setattr_when"><a href="#type-setattr_when" class="anchor"></a><code><span class="keyword">type</span> setattr_when</code><code> = <a href="../Unix/index.html#type-setattr_when">Unix.setattr_when</a></code><code> = </code><table class="variant"><tr id="type-setattr_when.TCSANOW" class="anchored"><td class="def constructor"><a href="#type-setattr_when.TCSANOW" class="anchor"></a><code>| </code><code><span class="constructor">TCSANOW</span></code></td></tr><tr id="type-setattr_when.TCSADRAIN" class="anchored"><td class="def constructor"><a href="#type-setattr_when.TCSADRAIN" class="anchor"></a><code>| </code><code><span class="constructor">TCSADRAIN</span></code></td></tr><tr id="type-setattr_when.TCSAFLUSH" class="anchored"><td class="def constructor"><a href="#type-setattr_when.TCSAFLUSH" class="anchor"></a><code>| </code><code><span class="constructor">TCSAFLUSH</span></code></td></tr></table></dt></dl><dl><dt class="spec value" id="val-tcsetattr"><a href="#val-tcsetattr" class="anchor"></a><code><span class="keyword">val</span> tcsetattr : <a href="index.html#type-file_descr">file_descr</a> <span>&#45;&gt;</span> <span>mode:<a href="index.html#type-setattr_when">setattr_when</a></span> <span>&#45;&gt;</span> <a href="index.html#type-terminal_io">terminal_io</a> <span>&#45;&gt;</span> unit</code></dt><dd><p>Set the status of the terminal referred to by the given file descriptor. The second argument indicates when the status change takes place: immediately (<code>TCSANOW</code>), when all pending output has been transmitted (<code>TCSADRAIN</code>), or after flushing all input that has been received but not read (<code>TCSAFLUSH</code>). <code>TCSADRAIN</code> is recommended when changing the output parameters; <code>TCSAFLUSH</code>, when changing the input parameters.</p></dd></dl><dl><dt class="spec value" id="val-tcsendbreak"><a href="#val-tcsendbreak" class="anchor"></a><code><span class="keyword">val</span> tcsendbreak : <a href="index.html#type-file_descr">file_descr</a> <span>&#45;&gt;</span> <span>duration:int</span> <span>&#45;&gt;</span> unit</code></dt><dd><p>Send a break condition on the given file descriptor. The second argument is the duration of the break, in 0.1s units; 0 means standard duration (0.25s).</p></dd></dl><dl><dt class="spec value" id="val-tcdrain"><a href="#val-tcdrain" class="anchor"></a><code><span class="keyword">val</span> tcdrain : <a href="index.html#type-file_descr">file_descr</a> <span>&#45;&gt;</span> unit</code></dt><dd><p>Waits until all output written on the given file descriptor has been transmitted.</p></dd></dl><dl><dt class="spec type" id="type-flush_queue"><a href="#type-flush_queue" class="anchor"></a><code><span class="keyword">type</span> flush_queue</code><code> = <a href="../Unix/index.html#type-flush_queue">Unix.flush_queue</a></code><code> = </code><table class="variant"><tr id="type-flush_queue.TCIFLUSH" class="anchored"><td class="def constructor"><a href="#type-flush_queue.TCIFLUSH" class="anchor"></a><code>| </code><code><span class="constructor">TCIFLUSH</span></code></td></tr><tr id="type-flush_queue.TCOFLUSH" class="anchored"><td class="def constructor"><a href="#type-flush_queue.TCOFLUSH" class="anchor"></a><code>| </code><code><span class="constructor">TCOFLUSH</span></code></td></tr><tr id="type-flush_queue.TCIOFLUSH" class="anchored"><td class="def constructor"><a href="#type-flush_queue.TCIOFLUSH" class="anchor"></a><code>| </code><code><span class="constructor">TCIOFLUSH</span></code></td></tr></table></dt></dl><dl><dt class="spec value" id="val-tcflush"><a href="#val-tcflush" class="anchor"></a><code><span class="keyword">val</span> tcflush : <a href="index.html#type-file_descr">file_descr</a> <span>&#45;&gt;</span> <span>mode:<a href="index.html#type-flush_queue">flush_queue</a></span> <span>&#45;&gt;</span> unit</code></dt><dd><p>Discard data written on the given file descriptor but not yet transmitted, or data received but not yet read, depending on the second argument: <code>TCIFLUSH</code> flushes data received but not read, <code>TCOFLUSH</code> flushes data written but not transmitted, and <code>TCIOFLUSH</code> flushes both.</p></dd></dl><dl><dt class="spec type" id="type-flow_action"><a href="#type-flow_action" class="anchor"></a><code><span class="keyword">type</span> flow_action</code><code> = <a href="../Unix/index.html#type-flow_action">Unix.flow_action</a></code><code> = </code><table class="variant"><tr id="type-flow_action.TCOOFF" class="anchored"><td class="def constructor"><a href="#type-flow_action.TCOOFF" class="anchor"></a><code>| </code><code><span class="constructor">TCOOFF</span></code></td></tr><tr id="type-flow_action.TCOON" class="anchored"><td class="def constructor"><a href="#type-flow_action.TCOON" class="anchor"></a><code>| </code><code><span class="constructor">TCOON</span></code></td></tr><tr id="type-flow_action.TCIOFF" class="anchored"><td class="def constructor"><a href="#type-flow_action.TCIOFF" class="anchor"></a><code>| </code><code><span class="constructor">TCIOFF</span></code></td></tr><tr id="type-flow_action.TCION" class="anchored"><td class="def constructor"><a href="#type-flow_action.TCION" class="anchor"></a><code>| </code><code><span class="constructor">TCION</span></code></td></tr></table></dt></dl><dl><dt class="spec value" id="val-tcflow"><a href="#val-tcflow" class="anchor"></a><code><span class="keyword">val</span> tcflow : <a href="index.html#type-file_descr">file_descr</a> <span>&#45;&gt;</span> <span>mode:<a href="index.html#type-flow_action">flow_action</a></span> <span>&#45;&gt;</span> unit</code></dt><dd><p>Suspend or restart reception or transmission of data on the given file descriptor, depending on the second argument: <code>TCOOFF</code> suspends output, <code>TCOON</code> restarts output, <code>TCIOFF</code> transmits a STOP character to suspend input, and <code>TCION</code> transmits a START character to restart input.</p></dd></dl><dl><dt class="spec value" id="val-setsid"><a href="#val-setsid" class="anchor"></a><code><span class="keyword">val</span> setsid : unit <span>&#45;&gt;</span> int</code></dt><dd><p>Put the calling process in a new session and detach it from its controlling terminal.</p></dd></dl></section></div></body></html>